{"version":3,"sources":["webpack:///static/js/87.0fca574a9fc36ff911bd.js","webpack:///./src/web/holiday/history.vue?f528","webpack:///./src/web/holiday/history.vue?4a2a","webpack:///./src/web/holiday/history.vue?f7da","webpack:///./src/web/holiday/history.vue","webpack:///./static/images/more.png","webpack:///history.vue"],"names":["webpackJsonp","1132","module","exports","__webpack_require__","push","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","1246","content","locals","1444","render","_vm","this","_h","$createElement","_c","_self","staticClass","workId","_v","on","click","$event","openDetail","attrs","src","_s","formatDate","startDate","endDate","approvelog","activityDefName","partiname","_e","neirong","yearObj","alyear","lastDays","domProps","textContent","hasDays","historyList","length","_l","item","index","key","nativeOn","lastWorkItemID","state","getYearDay","getDay","class","disagree","judgmentState","staticRenderFns","238","injectStyle","ssrContext","Component","876","970","__webpack_exports__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default","n","__WEBPACK_IMPORTED_MODULE_1_vuex__","name","data","approveRecord","stateList","applicantid","$route","params","hisFlag","mounted","document","setTitle","annualLeave","basicData","approveLog","computed","userInfo","methods","vm","get","conf","portalMobile","token","ssotoken","ssotokenCode","res","jsonData","lastyearall","lastyearthen","yearall","yearthen","historyData","type","ext","otherUserName","workItemID","post","random","Math","floor","$router","date","replace","Date","getMonth","getDate","getFullYear"],"mappings":"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","file":"static/js/87.0fca574a9fc36ff911bd.js","sourcesContent":["webpackJsonp([87],{\n\n/***/ 1132:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(187)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".hint_time[data-v-88726d52]{float:right}.yd-timeline-content>li[data-v-88726d52]:nth-child(2){padding-top:.2rem}.agree[data-v-88726d52]{color:#2389df;font-size:.3rem}.disagree[data-v-88726d52]{color:#f24320}.timeline_slider[data-v-88726d52]{margin-bottom:.14rem}.approText[data-v-88726d52]{color:#333;font-size:.32rem}.leftWord[data-v-88726d52]{color:#333}.status[data-v-88726d52]{color:#999;font-size:.32rem}.mainContent[data-v-88726d52]{height:auto;background:#e2e2e2;border-top:.11rem solid #e2e2e2;border-bottom:.11rem solid #e2e2e2}.sixCol[data-v-88726d52]{color:#666;font-size:.3rem}.nightCol[data-v-88726d52]{color:#999;font-size:.3rem}.numDays[data-v-88726d52]{font-size:.32rem;font-weight:700;color:#333;word-break:break-all;padding-right:.33rem}.lastDays[data-v-88726d52]{color:#666;font-size:.32rem}.part[data-v-88726d52]{margin:0 .23rem}.listTitle[data-v-88726d52]{padding-right:.33rem;padding-left:.33rem}.history_one[data-v-88726d52]{padding-left:.33rem}.noHistory[data-v-88726d52]{font-size:.32rem;color:#666;word-break:break-all}.yd_nohis[data-v-88726d52]{border-top:1px dashed #eaeaea;margin-top:.27rem}.footer[data-v-88726d52]{width:100%;height:1rem}.yd-btn-block[data-v-88726d52]{height:1rem;margin-top:0;border-radius:0;font-weight:700}.yd-tabbar[data-v-88726d52]{padding:0}\", \"\", {\"version\":3,\"sources\":[\"D:/3/中国银联/oamobile-funs/src/web/holiday/history.vue\"],\"names\":[],\"mappings\":\"AACA,4BACI,WAAa,CAChB,AACD,sDACI,iBAAoB,CACvB,AACD,wBACI,cAAe,AACf,eAAkB,CACrB,AACD,2BACI,aAAe,CAClB,AACD,kCACI,oBAAuB,CAC1B,AACD,4BACI,WAAY,AACZ,gBAAmB,CACtB,AACD,2BACI,UAAY,CACf,AACD,yBACI,WAAY,AACZ,gBAAmB,CACtB,AACD,8BACI,YAAa,AACb,mBAAoB,AACpB,gCAAiC,AACjC,kCAAoC,CACvC,AACD,yBACI,WAAY,AACZ,eAAiB,CACpB,AACD,2BACI,WAAY,AACZ,eAAiB,CACpB,AACD,0BACI,iBAAmB,AACnB,gBAAkB,AAClB,WAAe,AACf,qBAAsB,AACtB,oBAAsB,CACzB,AACD,2BACI,WAAY,AACZ,gBAAmB,CACtB,AACD,uBACI,eAAiB,CACpB,AACD,4BACI,qBAAsB,AACtB,mBAAqB,CACxB,AACD,8BACI,mBAAqB,CACxB,AACD,4BACI,iBAAmB,AACnB,WAAY,AACZ,oBAAsB,CACzB,AACD,2BACI,8BAA+B,AAC/B,iBAAmB,CACtB,AACD,yBACI,WAAY,AACZ,WAAa,CAChB,AACD,+BACI,YAAa,AACb,aAAc,AACd,gBAAiB,AACjB,eAAkB,CACrB,AACD,4BACI,SAAW,CACd\",\"file\":\"history.vue\",\"sourcesContent\":[\"\\n.hint_time[data-v-88726d52] {\\r\\n    float: right;\\n}\\n.yd-timeline-content>li[data-v-88726d52]:nth-child(2) {\\r\\n    padding-top: 0.2rem;\\n}\\n.agree[data-v-88726d52] {\\r\\n    color: #2389df;\\r\\n    font-size: 0.3rem;\\n}\\n.disagree[data-v-88726d52] {\\r\\n    color: #f24320;\\n}\\n.timeline_slider[data-v-88726d52] {\\r\\n    margin-bottom: 0.14rem;\\n}\\n.approText[data-v-88726d52] {\\r\\n    color: #333;\\r\\n    font-size: 0.32rem;\\n}\\n.leftWord[data-v-88726d52] {\\r\\n    color: #333;\\n}\\n.status[data-v-88726d52] {\\r\\n    color: #999;\\r\\n    font-size: 0.32rem;\\n}\\n.mainContent[data-v-88726d52] {\\r\\n    height: auto;\\r\\n    background: #e2e2e2;\\r\\n    border-top: .11rem solid #e2e2e2;\\r\\n    border-bottom: .11rem solid #e2e2e2;\\n}\\n.sixCol[data-v-88726d52] {\\r\\n    color: #666;\\r\\n    font-size: .3rem;\\n}\\n.nightCol[data-v-88726d52] {\\r\\n    color: #999;\\r\\n    font-size: .3rem;\\n}\\n.numDays[data-v-88726d52] {\\r\\n    font-size: 0.32rem;\\r\\n    font-weight: bold;\\r\\n    color: #333333;\\r\\n    word-break: break-all;\\r\\n    padding-right: .33rem;\\n}\\n.lastDays[data-v-88726d52] {\\r\\n    color: #666;\\r\\n    font-size: 0.32rem;\\n}\\n.part[data-v-88726d52] {\\r\\n    margin: 0 .23rem;\\n}\\n.listTitle[data-v-88726d52] {\\r\\n    padding-right: .33rem;\\r\\n    padding-left: .33rem;\\n}\\n.history_one[data-v-88726d52] {\\r\\n    padding-left: .33rem;\\n}\\n.noHistory[data-v-88726d52] {\\r\\n    font-size: 0.32rem;\\r\\n    color: #666;\\r\\n    word-break: break-all;\\n}\\n.yd_nohis[data-v-88726d52] {\\r\\n    border-top: 1px dashed #eaeaea;\\r\\n    margin-top: .27rem;\\n}\\n.footer[data-v-88726d52] {\\r\\n    width: 100%;\\r\\n    height: 1rem;\\n}\\n.yd-btn-block[data-v-88726d52] {\\r\\n    height: 1rem;\\r\\n    margin-top: 0;\\r\\n    border-radius: 0;\\r\\n    font-weight: bold;\\n}\\n.yd-tabbar[data-v-88726d52] {\\r\\n    padding: 0;\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 1246:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(1132);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(188)(\"7d97797c\", content, true, {});\n\n/***/ }),\n\n/***/ 1444:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('yd-layout', {\n    staticClass: \"groundColor\"\n  }, [_c('div', {\n    staticClass: \"mainContent\"\n  }, [_c('div', {\n    staticClass: \"contentSradius timeline_slider history\"\n  }, [(_vm.workId != 'undefined') ? _c('div', {\n    staticClass: \"history_one\"\n  }, [_c('yd-flexbox', [_c('div', {\n    staticClass: \"hint\"\n  }, [_vm._v(\"休假正在审批中...\")]), _vm._v(\" \"), _c('yd-flexbox-item', [_c('div', {\n    staticClass: \"moreLogo\",\n    on: {\n      \"click\": function($event) {\n        _vm.openDetail(_vm.workId, 0)\n      }\n    }\n  }, [_c('img', {\n    attrs: {\n      \"src\": __webpack_require__(876)\n    }\n  })])])], 1), _vm._v(\" \"), _c('yd-flexbox', [_c('div', {\n    staticClass: \"leftWord\"\n  }, [_vm._v(\"休假时间：\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"leftWord\"\n  }, [_vm._v(_vm._s(_vm.formatDate(_vm.startDate, 'yyyy-MM-dd')) + \"—\" + _vm._s(_vm.formatDate(_vm.endDate, 'yyyy-MM-dd')))])]), _vm._v(\" \"), (_vm.approvelog != '') ? _c('yd-flexbox', [_c('div', {\n    staticClass: \"status\"\n  }, [_vm._v(\"状态：\")]), _vm._v(\" \"), (_vm.approvelog[0].activityDefName != '领导秘书预审') ? _c('div', {\n    staticClass: \"approText\"\n  }, [_vm._v(_vm._s(_vm.approvelog[0].partiname) + \"完成审批，\")]) : _vm._e(), _vm._v(\" \"), _c('div', {\n    staticClass: \"approText\"\n  }, [_vm._v(_vm._s(_vm.approvelog[0].neirong))])]) : _vm._e()], 1) : _vm._e(), _vm._v(\" \"), (_vm.workId == 'undefined') ? _c('div', {\n    staticClass: \"history_one\"\n  }, [_c('yd-flexbox', [_c('yd-flexbox-item', {\n    staticClass: \"hint\"\n  }, [_vm._v(\"\\n                        \" + _vm._s(_vm.yearObj.alyear) + \"年剩余休假天数\\n                    \")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"numDays\"\n  }, [_vm._v(_vm._s(_vm.lastDays) + \"天\")])], 1), _vm._v(\" \"), _c('yd-flexbox', [_c('div', {\n    staticClass: \"lastDays\"\n  }, [_vm._v(\"已使用年假\"), _c('span', {\n    staticClass: \"agree\",\n    domProps: {\n      \"textContent\": _vm._s(_vm.hasDays)\n    }\n  }), _vm._v(\"天（含过期延用年假）\")])])], 1) : _vm._e()])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"mainContentFluid\"\n  }, [_c('div', {\n    staticClass: \"historyList\"\n  }, [_c('yd-flexbox', {\n    staticClass: \"listTitle\"\n  }, [_c('yd-flexbox-item', [_c('div', {\n    staticClass: \"hint\"\n  }, [_vm._v(\"历史休假记录\")])])], 1), _vm._v(\" \"), (_vm.historyList.length == 0) ? _c('yd-flexbox', {\n    staticClass: \"listTitle yd_nohis\"\n  }, [_c('yd-flexbox-item', [_c('div', {\n    staticClass: \"noHistory\"\n  }, [_vm._v(\"暂无历史休假记录\")])])], 1) : _vm._e(), _vm._v(\" \"), _vm._l((_vm.historyList), function(item, index) {\n    return (_vm.historyList != '') ? _c('div', {\n      key: item.index,\n      staticClass: \"part\"\n    }, [_c('yd-flexbox', {\n      nativeOn: {\n        \"click\": function($event) {\n          _vm.openDetail(item.lastWorkItemID, item.state)\n        }\n      }\n    }, [_c('div', {\n      staticClass: \"sixCol\"\n    }, [_vm._v(\"休假时间：\")]), _vm._v(\" \"), _c('div', {\n      staticClass: \"sixCol\"\n    }, [_vm._v(_vm._s(_vm.getYearDay(item.startDate)) + \"—\" + _vm._s(_vm.getDay(item.endDate)))]), _vm._v(\" \"), _c('yd-flexbox-item', [_c('div', {\n      staticClass: \"moreLogo\"\n    }, [_c('img', {\n      attrs: {\n        \"src\": __webpack_require__(876)\n      }\n    })])])], 1), _vm._v(\" \"), _c('yd-flexbox', [_c('div', {\n      staticClass: \"nightCol\"\n    }, [_vm._v(\"状态：\")]), _vm._v(\" \"), _c('div', {\n      staticClass: \"agree\",\n      class: {\n        'disagree': item.state != 1\n      }\n    }, [_vm._v(_vm._s(_vm.judgmentState(item.state)))])])], 1) : _vm._e()\n  })], 2)])])\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 238:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(1246)\n}\nvar Component = __webpack_require__(12)(\n  /* script */\n  __webpack_require__(970),\n  /* template */\n  __webpack_require__(1444),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-88726d52\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 876:\n/***/ (function(module, exports) {\n\nmodule.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAKCAYAAADLhGwXAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo2MWJkZjVlOS02YjliLTRjMDQtYjIzNi1kNWMyMzk1YWQxOGMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzAzNUM5MUQ5RTc0MTFFN0JBQTJGRUVGQzk3MTRDOEEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzAzNUM5MUM5RTc0MTFFN0JBQTJGRUVGQzk3MTRDOEEiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxZTYxNjAxZC03NzBhLTRlM2MtOTQyYS1lODhlY2UwYTAzMjYiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo5ZWI2MjZjZS1kN2Y4LTExN2EtYmExZi1jMmJhYWM2Mzc0NjEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7ESU/9AAAAsUlEQVR42mJ8/PgxAxT4AnEhEJtC+aeBuA+ItzAgARkZGQZ08OTJE2QuQXOIMIOgOUxQwRYg3gTEjkDMA8Ug9maoHLGAbuaAHO4DxNV4DKmG+p4QoKs5IIcXEWFYIRFq6GoOyOEmRCgcdGqYiExzjAzUAVQzB+TwM0QoPE2EGrqaA3J4PxEKB50aJmgR04pHUStUDSFAV3NgabwGiP2BeD8Qf4ViENsPKkcsoJs5AAEGAMqjQcldimgrAAAAAElFTkSuQmCC\"\n\n/***/ }),\n\n/***/ 970:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vuex__ = __webpack_require__(20);\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'history',\n    data: function data() {\n        return {\n            approveRecord: [],\n            stateList: [],\n            yearObj: [],\n            historyList: [],\n            startDate: '',\n            endDate: '',\n            approvelog: '',\n            applicantid: '',\n            lastDays: '',\n            hasDays: '',\n            workId: this.$route.params.workId,\n            hisFlag: this.$route.params.hisFlag\n        };\n    },\n    mounted: function mounted() {\n        document.setTitle('请休假');\n        this.annualLeave();\n        this.basicData();\n        this.approveLog();\n    },\n\n    computed: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({}, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_vuex__[\"a\" /* mapGetters */])({\n        userInfo: 'getUserInfo'\n    })),\n    methods: {\n        annualLeave: function annualLeave() {\n            var vm = this;\n            vm.get(vm.conf.portalMobile + '/API/AnnLeave/annual/getAnnualLeave', {\n                'token': vm.userInfo.ssotoken + 'L/wp-2q' + vm.userInfo.ssotokenCode\n            }, function (res) {\n                var data = res.jsonData[0];\n                vm.yearObj = data;\n                vm.lastDays = vm.yearObj.lastyearall - vm.yearObj.lastyearthen + vm.yearObj.yearall - vm.yearObj.yearthen;\n                vm.hasDays = vm.yearObj.lastyearthen + vm.yearObj.yearthen;\n                if (vm.hisFlag == 'true') {\n                    vm.historyData();\n                }\n            });\n        },\n\n        // 历史休假列表\n        historyData: function historyData() {\n            var vm = this;\n            if (vm.hisFlag == 'true') {\n                vm.get(vm.conf.portalMobile + '/API/WorkFlow/oawf/historyRecord', {\n                    'type': 'askforleave',\n                    'token': vm.userInfo.ssotoken + 'L/wp-2q' + vm.userInfo.ssotokenCode,\n                    'ext': '{\"queryType\":\"1\",\"queryYear\":\"' + vm.yearObj.alyear + '\",\"queryState\":\"all\"}'\n                }, function (res) {\n                    vm.historyList = res.jsonData;\n                });\n            } else {\n                vm.get(vm.conf.portalMobile + '/API/WorkFlow/oawf/historyRecord', {\n                    'type': 'askforleave',\n                    'token': vm.userInfo.ssotoken + 'L/wp-2q' + vm.userInfo.ssotokenCode,\n                    'otherUserName': vm.applicantid,\n                    'ext': '{\"queryType\":\"1\",\"queryYear\":\"' + vm.yearObj.alyear + '\",\"queryState\":\"all\"}'\n                }, function (res) {\n                    vm.historyList = res.jsonData;\n                });\n            }\n        },\n        basicData: function basicData() {\n            var vm = this;\n            if (vm.workId != 'undefined') {\n                vm.get(vm.conf.portalMobile + '/API/WorkFlow/oawf/queryForm', {\n                    'type': 'askforleave',\n                    'workItemID': vm.workId,\n                    'token': vm.userInfo.ssotoken + 'L/wp-2q' + vm.userInfo.ssotokenCode\n                }, function (res) {\n                    var data = res.jsonData;\n                    vm.applicantid = data.applicantid;\n                    vm.startDate = data.startDate;\n                    vm.endDate = data.endDate;\n                    if (vm.hisFlag == 'false') {\n                        vm.historyData();\n                    }\n                });\n            }\n        },\n\n        // 审批记录\n        approveLog: function approveLog() {\n            var vm = this;\n            if (vm.workId != 'undefined') {\n                vm.post(vm.conf.portalMobile + '/API/WorkFlow/oawf/queryApprove', {\n                    'type': 'askforleave',\n                    'workItemID': vm.$route.params.workId,\n                    'token': vm.userInfo.ssotoken + 'L/wp-2q' + vm.userInfo.ssotokenCode,\n                    'random': Math.floor(Math.random() * (100000 + 1))\n                }, function (res) {\n                    if (res.jsonData != '') {\n                        vm.approvelog = res.jsonData;\n                    }\n                });\n            }\n        },\n        openDetail: function openDetail(workId, state) {\n            var vm = this;\n            vm.$router.push('/myApplication/' + workId + '/' + state);\n        },\n        getDay: function getDay(date) {\n            date = date.replace(/-/g, '/');\n            return new Date(date).getMonth() + 1 + '月' + new Date(date).getDate() + '日';\n        },\n        getYearDay: function getYearDay(date) {\n            date = date.replace(/-/g, '/');\n            return new Date(date).getFullYear() + '年' + (new Date(date).getMonth() + 1) + '月' + new Date(date).getDate() + '日';\n        },\n        judgmentState: function judgmentState(state) {\n            if (state == 0) {\n                return '进行中';\n            } else {\n                return '已结束';\n            }\n        }\n    }\n});\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/87.0fca574a9fc36ff911bd.js","exports = module.exports = require(\"../../../node_modules/_css-loader@0.28.10@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".hint_time[data-v-88726d52]{float:right}.yd-timeline-content>li[data-v-88726d52]:nth-child(2){padding-top:.2rem}.agree[data-v-88726d52]{color:#2389df;font-size:.3rem}.disagree[data-v-88726d52]{color:#f24320}.timeline_slider[data-v-88726d52]{margin-bottom:.14rem}.approText[data-v-88726d52]{color:#333;font-size:.32rem}.leftWord[data-v-88726d52]{color:#333}.status[data-v-88726d52]{color:#999;font-size:.32rem}.mainContent[data-v-88726d52]{height:auto;background:#e2e2e2;border-top:.11rem solid #e2e2e2;border-bottom:.11rem solid #e2e2e2}.sixCol[data-v-88726d52]{color:#666;font-size:.3rem}.nightCol[data-v-88726d52]{color:#999;font-size:.3rem}.numDays[data-v-88726d52]{font-size:.32rem;font-weight:700;color:#333;word-break:break-all;padding-right:.33rem}.lastDays[data-v-88726d52]{color:#666;font-size:.32rem}.part[data-v-88726d52]{margin:0 .23rem}.listTitle[data-v-88726d52]{padding-right:.33rem;padding-left:.33rem}.history_one[data-v-88726d52]{padding-left:.33rem}.noHistory[data-v-88726d52]{font-size:.32rem;color:#666;word-break:break-all}.yd_nohis[data-v-88726d52]{border-top:1px dashed #eaeaea;margin-top:.27rem}.footer[data-v-88726d52]{width:100%;height:1rem}.yd-btn-block[data-v-88726d52]{height:1rem;margin-top:0;border-radius:0;font-weight:700}.yd-tabbar[data-v-88726d52]{padding:0}\", \"\", {\"version\":3,\"sources\":[\"D:/3/中国银联/oamobile-funs/src/web/holiday/history.vue\"],\"names\":[],\"mappings\":\"AACA,4BACI,WAAa,CAChB,AACD,sDACI,iBAAoB,CACvB,AACD,wBACI,cAAe,AACf,eAAkB,CACrB,AACD,2BACI,aAAe,CAClB,AACD,kCACI,oBAAuB,CAC1B,AACD,4BACI,WAAY,AACZ,gBAAmB,CACtB,AACD,2BACI,UAAY,CACf,AACD,yBACI,WAAY,AACZ,gBAAmB,CACtB,AACD,8BACI,YAAa,AACb,mBAAoB,AACpB,gCAAiC,AACjC,kCAAoC,CACvC,AACD,yBACI,WAAY,AACZ,eAAiB,CACpB,AACD,2BACI,WAAY,AACZ,eAAiB,CACpB,AACD,0BACI,iBAAmB,AACnB,gBAAkB,AAClB,WAAe,AACf,qBAAsB,AACtB,oBAAsB,CACzB,AACD,2BACI,WAAY,AACZ,gBAAmB,CACtB,AACD,uBACI,eAAiB,CACpB,AACD,4BACI,qBAAsB,AACtB,mBAAqB,CACxB,AACD,8BACI,mBAAqB,CACxB,AACD,4BACI,iBAAmB,AACnB,WAAY,AACZ,oBAAsB,CACzB,AACD,2BACI,8BAA+B,AAC/B,iBAAmB,CACtB,AACD,yBACI,WAAY,AACZ,WAAa,CAChB,AACD,+BACI,YAAa,AACb,aAAc,AACd,gBAAiB,AACjB,eAAkB,CACrB,AACD,4BACI,SAAW,CACd\",\"file\":\"history.vue\",\"sourcesContent\":[\"\\n.hint_time[data-v-88726d52] {\\r\\n    float: right;\\n}\\n.yd-timeline-content>li[data-v-88726d52]:nth-child(2) {\\r\\n    padding-top: 0.2rem;\\n}\\n.agree[data-v-88726d52] {\\r\\n    color: #2389df;\\r\\n    font-size: 0.3rem;\\n}\\n.disagree[data-v-88726d52] {\\r\\n    color: #f24320;\\n}\\n.timeline_slider[data-v-88726d52] {\\r\\n    margin-bottom: 0.14rem;\\n}\\n.approText[data-v-88726d52] {\\r\\n    color: #333;\\r\\n    font-size: 0.32rem;\\n}\\n.leftWord[data-v-88726d52] {\\r\\n    color: #333;\\n}\\n.status[data-v-88726d52] {\\r\\n    color: #999;\\r\\n    font-size: 0.32rem;\\n}\\n.mainContent[data-v-88726d52] {\\r\\n    height: auto;\\r\\n    background: #e2e2e2;\\r\\n    border-top: .11rem solid #e2e2e2;\\r\\n    border-bottom: .11rem solid #e2e2e2;\\n}\\n.sixCol[data-v-88726d52] {\\r\\n    color: #666;\\r\\n    font-size: .3rem;\\n}\\n.nightCol[data-v-88726d52] {\\r\\n    color: #999;\\r\\n    font-size: .3rem;\\n}\\n.numDays[data-v-88726d52] {\\r\\n    font-size: 0.32rem;\\r\\n    font-weight: bold;\\r\\n    color: #333333;\\r\\n    word-break: break-all;\\r\\n    padding-right: .33rem;\\n}\\n.lastDays[data-v-88726d52] {\\r\\n    color: #666;\\r\\n    font-size: 0.32rem;\\n}\\n.part[data-v-88726d52] {\\r\\n    margin: 0 .23rem;\\n}\\n.listTitle[data-v-88726d52] {\\r\\n    padding-right: .33rem;\\r\\n    padding-left: .33rem;\\n}\\n.history_one[data-v-88726d52] {\\r\\n    padding-left: .33rem;\\n}\\n.noHistory[data-v-88726d52] {\\r\\n    font-size: 0.32rem;\\r\\n    color: #666;\\r\\n    word-break: break-all;\\n}\\n.yd_nohis[data-v-88726d52] {\\r\\n    border-top: 1px dashed #eaeaea;\\r\\n    margin-top: .27rem;\\n}\\n.footer[data-v-88726d52] {\\r\\n    width: 100%;\\r\\n    height: 1rem;\\n}\\n.yd-btn-block[data-v-88726d52] {\\r\\n    height: 1rem;\\r\\n    margin-top: 0;\\r\\n    border-radius: 0;\\r\\n    font-weight: bold;\\n}\\n.yd-tabbar[data-v-88726d52] {\\r\\n    padding: 0;\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_css-loader@0.28.10@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@12.2.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-88726d52\",\"scoped\":true,\"hasInlineConfig\":false}!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./src/web/holiday/history.vue\n// module id = 1132\n// module chunks = 87","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/_css-loader@0.28.10@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-88726d52\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./history.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/_vue-style-loader@3.1.2@vue-style-loader/lib/addStylesClient.js\")(\"7d97797c\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/_vue-style-loader@3.1.2@vue-style-loader!./~/_css-loader@0.28.10@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@12.2.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-88726d52\",\"scoped\":true,\"hasInlineConfig\":false}!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./src/web/holiday/history.vue\n// module id = 1246\n// module chunks = 87","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('yd-layout', {\n    staticClass: \"groundColor\"\n  }, [_c('div', {\n    staticClass: \"mainContent\"\n  }, [_c('div', {\n    staticClass: \"contentSradius timeline_slider history\"\n  }, [(_vm.workId != 'undefined') ? _c('div', {\n    staticClass: \"history_one\"\n  }, [_c('yd-flexbox', [_c('div', {\n    staticClass: \"hint\"\n  }, [_vm._v(\"休假正在审批中...\")]), _vm._v(\" \"), _c('yd-flexbox-item', [_c('div', {\n    staticClass: \"moreLogo\",\n    on: {\n      \"click\": function($event) {\n        _vm.openDetail(_vm.workId, 0)\n      }\n    }\n  }, [_c('img', {\n    attrs: {\n      \"src\": require(\"../../../static/images/more.png\")\n    }\n  })])])], 1), _vm._v(\" \"), _c('yd-flexbox', [_c('div', {\n    staticClass: \"leftWord\"\n  }, [_vm._v(\"休假时间：\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"leftWord\"\n  }, [_vm._v(_vm._s(_vm.formatDate(_vm.startDate, 'yyyy-MM-dd')) + \"—\" + _vm._s(_vm.formatDate(_vm.endDate, 'yyyy-MM-dd')))])]), _vm._v(\" \"), (_vm.approvelog != '') ? _c('yd-flexbox', [_c('div', {\n    staticClass: \"status\"\n  }, [_vm._v(\"状态：\")]), _vm._v(\" \"), (_vm.approvelog[0].activityDefName != '领导秘书预审') ? _c('div', {\n    staticClass: \"approText\"\n  }, [_vm._v(_vm._s(_vm.approvelog[0].partiname) + \"完成审批，\")]) : _vm._e(), _vm._v(\" \"), _c('div', {\n    staticClass: \"approText\"\n  }, [_vm._v(_vm._s(_vm.approvelog[0].neirong))])]) : _vm._e()], 1) : _vm._e(), _vm._v(\" \"), (_vm.workId == 'undefined') ? _c('div', {\n    staticClass: \"history_one\"\n  }, [_c('yd-flexbox', [_c('yd-flexbox-item', {\n    staticClass: \"hint\"\n  }, [_vm._v(\"\\n                        \" + _vm._s(_vm.yearObj.alyear) + \"年剩余休假天数\\n                    \")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"numDays\"\n  }, [_vm._v(_vm._s(_vm.lastDays) + \"天\")])], 1), _vm._v(\" \"), _c('yd-flexbox', [_c('div', {\n    staticClass: \"lastDays\"\n  }, [_vm._v(\"已使用年假\"), _c('span', {\n    staticClass: \"agree\",\n    domProps: {\n      \"textContent\": _vm._s(_vm.hasDays)\n    }\n  }), _vm._v(\"天（含过期延用年假）\")])])], 1) : _vm._e()])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"mainContentFluid\"\n  }, [_c('div', {\n    staticClass: \"historyList\"\n  }, [_c('yd-flexbox', {\n    staticClass: \"listTitle\"\n  }, [_c('yd-flexbox-item', [_c('div', {\n    staticClass: \"hint\"\n  }, [_vm._v(\"历史休假记录\")])])], 1), _vm._v(\" \"), (_vm.historyList.length == 0) ? _c('yd-flexbox', {\n    staticClass: \"listTitle yd_nohis\"\n  }, [_c('yd-flexbox-item', [_c('div', {\n    staticClass: \"noHistory\"\n  }, [_vm._v(\"暂无历史休假记录\")])])], 1) : _vm._e(), _vm._v(\" \"), _vm._l((_vm.historyList), function(item, index) {\n    return (_vm.historyList != '') ? _c('div', {\n      key: item.index,\n      staticClass: \"part\"\n    }, [_c('yd-flexbox', {\n      nativeOn: {\n        \"click\": function($event) {\n          _vm.openDetail(item.lastWorkItemID, item.state)\n        }\n      }\n    }, [_c('div', {\n      staticClass: \"sixCol\"\n    }, [_vm._v(\"休假时间：\")]), _vm._v(\" \"), _c('div', {\n      staticClass: \"sixCol\"\n    }, [_vm._v(_vm._s(_vm.getYearDay(item.startDate)) + \"—\" + _vm._s(_vm.getDay(item.endDate)))]), _vm._v(\" \"), _c('yd-flexbox-item', [_c('div', {\n      staticClass: \"moreLogo\"\n    }, [_c('img', {\n      attrs: {\n        \"src\": require(\"../../../static/images/more.png\")\n      }\n    })])])], 1), _vm._v(\" \"), _c('yd-flexbox', [_c('div', {\n      staticClass: \"nightCol\"\n    }, [_vm._v(\"状态：\")]), _vm._v(\" \"), _c('div', {\n      staticClass: \"agree\",\n      class: {\n        'disagree': item.state != 1\n      }\n    }, [_vm._v(_vm._s(_vm.judgmentState(item.state)))])])], 1) : _vm._e()\n  })], 2)])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@12.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-88726d52\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/web/holiday/history.vue\n// module id = 1444\n// module chunks = 87","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-88726d52\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=styles&index=0!./history.vue\")\n}\nvar Component = require(\"!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=script&index=0!./history.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-88726d52\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=template&index=0!./history.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-88726d52\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/web/holiday/history.vue\n// module id = 238\n// module chunks = 87","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAKCAYAAADLhGwXAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo2MWJkZjVlOS02YjliLTRjMDQtYjIzNi1kNWMyMzk1YWQxOGMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzAzNUM5MUQ5RTc0MTFFN0JBQTJGRUVGQzk3MTRDOEEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzAzNUM5MUM5RTc0MTFFN0JBQTJGRUVGQzk3MTRDOEEiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxZTYxNjAxZC03NzBhLTRlM2MtOTQyYS1lODhlY2UwYTAzMjYiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo5ZWI2MjZjZS1kN2Y4LTExN2EtYmExZi1jMmJhYWM2Mzc0NjEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7ESU/9AAAAsUlEQVR42mJ8/PgxAxT4AnEhEJtC+aeBuA+ItzAgARkZGQZ08OTJE2QuQXOIMIOgOUxQwRYg3gTEjkDMA8Ug9maoHLGAbuaAHO4DxNV4DKmG+p4QoKs5IIcXEWFYIRFq6GoOyOEmRCgcdGqYiExzjAzUAVQzB+TwM0QoPE2EGrqaA3J4PxEKB50aJmgR04pHUStUDSFAV3NgabwGiP2BeD8Qf4ViENsPKkcsoJs5AAEGAMqjQcldimgrAAAAAElFTkSuQmCC\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/images/more.png\n// module id = 876\n// module chunks = 87 90","<template>\r\n    <yd-layout class=\"groundColor\">\r\n        <div class=\"mainContent\">\r\n            <div class=\"contentSradius timeline_slider history\">\r\n                <div class=\"history_one\" v-if=\"workId!='undefined'\">\r\n                    <yd-flexbox>\r\n                        <div class=\"hint\">休假正在审批中...</div>\r\n                        <yd-flexbox-item>\r\n                            <div class=\"moreLogo\" @click=\"openDetail(workId,0)\">\r\n                                <img src=\"../../../static/images/more.png\">\r\n                            </div>\r\n                        </yd-flexbox-item>\r\n                    </yd-flexbox>\r\n                    <yd-flexbox>\r\n                        <div class=\"leftWord\">休假时间：</div>\r\n                        <div class=\"leftWord\">{{formatDate(startDate, 'yyyy-MM-dd')}}—{{formatDate(endDate, 'yyyy-MM-dd')}}</div>\r\n                    </yd-flexbox>\r\n                    <yd-flexbox v-if=\"approvelog!=''\">\r\n                        <div class=\"status\">状态：</div>\r\n                        <div class=\"approText\" v-if=\"approvelog[0].activityDefName!='领导秘书预审'\">{{approvelog[0].partiname}}完成审批，</div>\r\n                        <div class=\"approText\">{{approvelog[0].neirong}}</div>\r\n                    </yd-flexbox>\r\n                </div>\r\n                <div class=\"history_one\" v-if=\"workId=='undefined'\">\r\n                    <yd-flexbox>\r\n                        <yd-flexbox-item class=\"hint\">\r\n                            {{yearObj.alyear}}年剩余休假天数\r\n                        </yd-flexbox-item>\r\n                        <div class=\"numDays\">{{lastDays}}天</div>\r\n                    </yd-flexbox>\r\n                    <yd-flexbox>\r\n                        <div class=\"lastDays\">已使用年假<span class=\"agree\" v-text=\"hasDays\"></span>天（含过期延用年假）</div>\r\n                    </yd-flexbox>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"mainContentFluid\">\r\n            <div class=\"historyList\">\r\n                <yd-flexbox class=\"listTitle\">\r\n                    <yd-flexbox-item>\r\n                        <div class=\"hint\">历史休假记录</div>\r\n                    </yd-flexbox-item>\r\n                </yd-flexbox>\r\n                <yd-flexbox class=\"listTitle yd_nohis\" v-if=\"historyList.length==0\">\r\n                    <yd-flexbox-item>\r\n                        <div class=\"noHistory\">暂无历史休假记录</div>\r\n                    </yd-flexbox-item>\r\n                </yd-flexbox>\r\n                <div class=\"part\" v-for=\"(item,index) in historyList\" :key=\"item.index\" v-if=\"historyList!=''\">\r\n                    <yd-flexbox v-on:click.native=\"openDetail(item.lastWorkItemID,item.state)\">\r\n                        <div class=\"sixCol\">休假时间：</div>\r\n                        <div class=\"sixCol\">{{getYearDay(item.startDate)}}—{{getDay(item.endDate)}}</div>\r\n                        <yd-flexbox-item>\r\n                            <div class=\"moreLogo\">\r\n                                <img src=\"../../../static/images/more.png\">\r\n                            </div>\r\n                        </yd-flexbox-item>\r\n                    </yd-flexbox>\r\n                    <yd-flexbox>\r\n                        <div class=\"nightCol\">状态：</div>\r\n                        <div class=\"agree\" v-bind:class=\"{'disagree':item.state!=1}\">{{judgmentState(item.state)}}</div>\r\n                    </yd-flexbox>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </yd-layout>\r\n</template>\r\n<script>\r\nimport { mapGetters } from 'vuex';\r\nexport default {\r\n    name: 'history',\r\n    data() {\r\n        return {\r\n            approveRecord: [],\r\n            stateList: [],\r\n            yearObj: [],\r\n            historyList: [],\r\n            startDate: '',\r\n            endDate: '',\r\n            approvelog: '',\r\n            applicantid: '',\r\n            lastDays: '',\r\n            hasDays: '',\r\n            workId: this.$route.params.workId,\r\n            hisFlag: this.$route.params.hisFlag\r\n        }\r\n    },\r\n    mounted() {\r\n        document.setTitle('请休假');\r\n        this.annualLeave();\r\n        this.basicData();\r\n        this.approveLog();\r\n    },\r\n    computed: {\r\n        ...mapGetters({\r\n            userInfo: 'getUserInfo'\r\n        })\r\n    },\r\n    methods: {\r\n        annualLeave() {\r\n            var vm = this;\r\n            vm.get(vm.conf.portalMobile + '/API/AnnLeave/annual/getAnnualLeave', {\r\n                'token': `${vm.userInfo.ssotoken}L/wp-2q${vm.userInfo.ssotokenCode}`\r\n            }, function (res) {\r\n                var data = res.jsonData[0];\r\n                vm.yearObj = data;\r\n                vm.lastDays = vm.yearObj.lastyearall - vm.yearObj.lastyearthen + vm.yearObj.yearall - vm.yearObj.yearthen;\r\n                vm.hasDays = vm.yearObj.lastyearthen + vm.yearObj.yearthen\r\n                if (vm.hisFlag == 'true') {\r\n                    vm.historyData();\r\n                }\r\n            });\r\n        },\r\n        // 历史休假列表\r\n        historyData() {\r\n            let vm = this;\r\n            if (vm.hisFlag == 'true') {\r\n                vm.get(vm.conf.portalMobile + '/API/WorkFlow/oawf/historyRecord', {\r\n                    'type': 'askforleave',\r\n                    'token': `${vm.userInfo.ssotoken}L/wp-2q${vm.userInfo.ssotokenCode}`,\r\n                    'ext': '{\"queryType\":\"1\",\"queryYear\":\"' + vm.yearObj.alyear + '\",\"queryState\":\"all\"}'\r\n                }, function (res) {\r\n                    vm.historyList = res.jsonData;\r\n                });\r\n            } else {\r\n                vm.get(vm.conf.portalMobile + '/API/WorkFlow/oawf/historyRecord', {\r\n                    'type': 'askforleave',\r\n                    'token': `${vm.userInfo.ssotoken}L/wp-2q${vm.userInfo.ssotokenCode}`,\r\n                    'otherUserName': vm.applicantid,\r\n                    'ext': '{\"queryType\":\"1\",\"queryYear\":\"' + vm.yearObj.alyear + '\",\"queryState\":\"all\"}'\r\n                }, function (res) {\r\n                    vm.historyList = res.jsonData;\r\n                });\r\n            }\r\n        },\r\n        basicData() {\r\n            let vm = this;\r\n            if (vm.workId != 'undefined') {\r\n                vm.get(vm.conf.portalMobile + '/API/WorkFlow/oawf/queryForm', {\r\n                    'type': 'askforleave',\r\n                    'workItemID': vm.workId,\r\n                    'token': `${vm.userInfo.ssotoken}L/wp-2q${vm.userInfo.ssotokenCode}`\r\n                }, function (res) {\r\n                    let data = res.jsonData;\r\n                    vm.applicantid = data.applicantid;\r\n                    vm.startDate = data.startDate;\r\n                    vm.endDate = data.endDate;\r\n                    if (vm.hisFlag == 'false') {\r\n                        vm.historyData();\r\n                    }\r\n                });\r\n            }\r\n        },\r\n        // 审批记录\r\n        approveLog() {\r\n            var vm = this;\r\n            if (vm.workId != 'undefined') {\r\n                vm.post(vm.conf.portalMobile + '/API/WorkFlow/oawf/queryApprove', {\r\n                    'type': 'askforleave',\r\n                    'workItemID': vm.$route.params.workId,\r\n                    'token': `${vm.userInfo.ssotoken}L/wp-2q${vm.userInfo.ssotokenCode}`,\r\n                    'random': Math.floor(Math.random() * (100000 + 1))\r\n                }, function (res) {\r\n                    if (res.jsonData != '') {\r\n                        vm.approvelog = res.jsonData;\r\n                    }\r\n                });\r\n            }\r\n        },\r\n        openDetail(workId, state) {\r\n            let vm = this;\r\n            vm.$router.push('/myApplication/' + workId + '/' + state);\r\n        },\r\n        getDay(date) {\r\n            date = date.replace(/-/g, '/');\r\n            return (new Date(date).getMonth() + 1) + '月' + new Date(date).getDate() + '日';\r\n        },\r\n        getYearDay(date) {\r\n            date = date.replace(/-/g, '/');\r\n            return new Date(date).getFullYear() + '年' + (new Date(date).getMonth() + 1) + '月' + new Date(date).getDate() + '日';\r\n        },\r\n        judgmentState(state) {\r\n            if (state == 0) {\r\n                return '进行中';\r\n            } else {\r\n                return '已结束';\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n.hint_time {\r\n    float: right;\r\n}\r\n\r\n.yd-timeline-content>li:nth-child(2) {\r\n    padding-top: 0.2rem;\r\n}\r\n\r\n.agree {\r\n    color: #2389df;\r\n    font-size: 0.3rem;\r\n}\r\n\r\n.disagree {\r\n    color: #f24320;\r\n}\r\n\r\n.timeline_slider {\r\n    margin-bottom: 0.14rem;\r\n}\r\n\r\n.approText {\r\n    color: #333;\r\n    font-size: 0.32rem;\r\n}\r\n\r\n.leftWord {\r\n    color: #333;\r\n}\r\n\r\n.status {\r\n    color: #999;\r\n    font-size: 0.32rem;\r\n}\r\n\r\n.mainContent {\r\n    height: auto;\r\n    background: #e2e2e2;\r\n    border-top: .11rem solid #e2e2e2;\r\n    border-bottom: .11rem solid #e2e2e2;\r\n}\r\n\r\n.sixCol {\r\n    color: #666;\r\n    font-size: .3rem;\r\n}\r\n\r\n.nightCol {\r\n    color: #999;\r\n    font-size: .3rem;\r\n}\r\n\r\n.numDays {\r\n    font-size: 0.32rem;\r\n    font-weight: bold;\r\n    color: #333333;\r\n    word-break: break-all;\r\n    padding-right: .33rem;\r\n}\r\n\r\n.lastDays {\r\n    color: #666;\r\n    font-size: 0.32rem;\r\n}\r\n\r\n.part {\r\n    margin: 0 .23rem;\r\n}\r\n\r\n.listTitle {\r\n    padding-right: .33rem;\r\n    padding-left: .33rem;\r\n}\r\n\r\n.history_one {\r\n    padding-left: .33rem;\r\n}\r\n\r\n.noHistory {\r\n    font-size: 0.32rem;\r\n    color: #666;\r\n    word-break: break-all;\r\n}\r\n\r\n.yd_nohis {\r\n    border-top: 1px dashed #eaeaea;\r\n    margin-top: .27rem;\r\n}\r\n\r\n.footer {\r\n    width: 100%;\r\n    height: 1rem;\r\n}\r\n\r\n.yd-btn-block {\r\n    height: 1rem;\r\n    margin-top: 0;\r\n    border-radius: 0;\r\n    font-weight: bold;\r\n}\r\n\r\n.yd-tabbar {\r\n    padding: 0;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// history.vue?1fcfc1de"],"sourceRoot":""}