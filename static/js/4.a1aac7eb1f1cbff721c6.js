webpackJsonp([4],{1058:function(t,e,a){var r=a(189);e=t.exports=a(187)(!0),e.push([t.i,".mainContentFluid[data-v-19497766]{margin-top:0}.fluidWidth[data-v-19497766]{padding:0}.adviceName[data-v-19497766]{min-height:1rem;padding:.2rem 0;border-bottom:none;display:flex;justify-content:space-between}.commonTrip[data-v-19497766]{color:#333;padding-left:.24rem;font-size:.32rem;float:left}.commonTrip02[data-v-19497766]{color:#333;padding-left:.32rem;font-size:.32rem;float:left}.yd-cell-box[data-v-19497766]{margin-bottom:0;border-bottom:1px dashed #eaeaea!important}.adviceTxt .yd-cell-box[data-v-19497766],.tripTime .yd-cell-box[data-v-19497766]{border-bottom:none}.tripRemark[data-v-19497766]{padding-left:.13rem;color:#333}.tripAppro[data-v-19497766]{padding-left:.24rem}.focus[data-v-19497766]{display:none}.adviceTxt[data-v-19497766]{line-height:.6rem}.depart[data-v-19497766]{font-size:.32rem}.approPart[data-v-19497766]{margin-bottom:.3rem}.reasonText[data-v-19497766]{min-height:2.76rem}.attachment[data-v-19497766]{color:#333;max-width:7.5rem;float:left;margin:0;width:auto;margin-bottom:.1rem;padding-left:0}.label_box[data-v-19497766]{overflow:hidden;height:auto;position:relative;margin-top:.2rem}.issueTime[data-v-19497766]{float:right;margin-top:0;padding-right:.15rem}.issueName[data-v-19497766]{margin-left:4rem;margin-top:0;color:#0a0a0a;margin-bottom:.1rem}.fl[data-v-19497766]{float:left}.adviceTitle[data-v-19497766]{font-size:.32rem;color:#999}.adviceLeader[data-v-19497766]{padding:.2rem;padding-left:.4rem;min-height:2.25rem}.sendBtn[data-v-19497766]{margin-top:0}.assistBottom[data-v-19497766]{border-top:none}.last_send[data-v-19497766]{height:100%;background-color:#fff}.grayColor[data-v-19497766]{background-color:#ccc!important}.dateColor[data-v-19497766]{color:#999!important;line-height:1rem;padding-right:.1rem;direction:ltr}.selectBtn[data-v-19497766]{color:#999!important;font-size:.32rem;position:relative;width:4.9rem;min-height:1rem;float:left;text-align:left;padding-right:.39rem}.selectTrip[data-v-19497766]{width:5rem;position:relative}.pleaseSelect2[data-v-19497766]{color:#999;font-size:.32rem;line-height:.5rem;padding-top:.23rem}.commonAdvice[data-v-19497766]{color:#333;font-size:.32rem;padding-left:.35rem;padding-top:.2rem}.trsTextarea[data-v-19497766]{font-size:.32rem;margin-left:.35rem;padding-right:.2rem;color:#999}.yd-cell-right input[type=text][data-v-19497766]{line-height:2rem}.otherTrip[data-v-19497766]{width:100%;min-height:1rem;overflow:hidden;line-height:1rem}.firstBtn[data-v-19497766]{color:#4aaeff;margin-right:.55rem;font-size:.3rem;align-self:center}.yd-tabbar[data-v-19497766]{padding:0}.yd-tabbar[data-v-19497766]:after{border-top:none}.yd-btn-block[data-v-19497766]{height:1rem;font-size:.3rem!important;margin-top:0;border-radius:0}.mainContent[data-v-19497766]{padding:0 .18rem}.contentSradius[data-v-19497766]{margin-bottom:.09rem;margin-top:.17rem}.part_two .yd-cell-box .yd-cell-item[data-v-19497766]{border-bottom:1px dashed #eaeaea}.scheduling[data-v-19497766]{min-height:2.76rem}.unit[data-v-19497766]{word-spacing:.24rem}.assistBottom[data-v-19497766]{height:.99rem}.examineLogo[data-v-19497766]{height:.99rem;margin-top:0;border-right:none}.examineLogo .yd-flexbox[data-v-19497766]{line-height:.99rem}.examineLogo_txt[data-v-19497766]{color:#fff;font-size:.36rem;font-weight:400;width:100%}.btnOne[data-v-19497766]{background-color:#46a4f0}.btnTwo[data-v-19497766]{background-color:#5cc3d1}.otherPerson[data-v-19497766]{border-bottom:none}.tripName[data-v-19497766]{color:#333;padding-left:.52rem;font-size:.34rem;width:4rem;align-self:center;font-weight:700}.endText[data-v-19497766]{font-size:.28rem;color:#999;background:url("+r(a(846))+") no-repeat;background-position:100%;margin-right:.37rem;background-size:.23rem}.tripName1[data-v-19497766]{width:7rem}","",{version:3,sources:["D:/3/中国银联/oamobile-funs/src/web/businessTrip/tripForm.vue"],names:[],mappings:"AACA,mCACI,YAAc,CACjB,AACD,6BACI,SAAW,CACd,AACD,6BACI,gBAAiB,AACjB,gBAAiB,AAEjB,mBAAoB,AACpB,aAAc,AACd,6BAA+B,CAClC,AACD,6BACI,WAAY,AACZ,oBAAsB,AACtB,iBAAmB,AACnB,UAAY,CACf,AACD,+BACI,WAAY,AACZ,oBAAsB,AACtB,iBAAmB,AACnB,UAAY,CACf,AACD,8BACI,gBAAiB,AACjB,0CAA6C,CAChD,AAID,iFACI,kBAAoB,CACvB,AACD,6BACI,oBAAsB,AACtB,UAAY,CACf,AACD,4BACI,mBAAsB,CACzB,AACD,wBACI,YAAc,CACjB,AACD,4BACI,iBAAoB,CACvB,AACD,yBACI,gBAAmB,CACtB,AACD,4BACI,mBAAsB,CACzB,AACD,6BACI,kBAAoB,CACvB,AACD,6BACI,WAAY,AACZ,iBAAkB,AAClB,WAAY,AACZ,SAAU,AACV,WAAY,AACZ,oBAAqB,AACrB,cAAgB,CACnB,AACD,4BACI,gBAAiB,AACjB,YAAa,AACb,kBAAmB,AACnB,gBAAkB,CACrB,AACD,4BACI,YAAa,AACb,aAAc,AACd,oBAAuB,CAC1B,AACD,4BACI,iBAAkB,AAClB,aAAc,AACd,cAAe,AACf,mBAAqB,CACxB,AACD,qBACI,UAAY,CACf,AACD,8BACI,iBAAmB,AACnB,UAAY,CACf,AACD,+BACI,cAAgB,AAChB,mBAAqB,AACrB,kBAAoB,CACvB,AACD,0BACI,YAAc,CACjB,AACD,+BACI,eAAiB,CACpB,AACD,4BACI,YAAa,AACb,qBAAuB,CAC1B,AACD,4BAEI,+BAAkC,CACrC,AACD,4BACI,qBAAuB,AACvB,iBAAkB,AAClB,oBAAsB,AACtB,aAAe,CAClB,AACD,4BACI,qBAAuB,AACvB,iBAAmB,AACnB,kBAAmB,AACnB,aAAc,AACd,gBAAiB,AACjB,WAAY,AACZ,gBAAiB,AACjB,oBAAuB,CAC1B,AACD,6BACI,WAAY,AACZ,iBAAkB,CACrB,AACD,gCACI,WAAY,AACZ,iBAAkB,AAClB,kBAAoB,AACpB,kBAAqB,CACxB,AACD,+BACI,WAAY,AACZ,iBAAmB,AACnB,oBAAsB,AACtB,iBAAoB,CACvB,AACD,8BACI,iBAAmB,AACnB,mBAAqB,AACrB,oBAAsB,AACtB,UAAY,CACf,AACD,iDAEI,gBAAkB,CACrB,AACD,4BACI,WAAY,AACZ,gBAAiB,AAEjB,gBAAiB,AACjB,gBAAkB,CACrB,AACD,2BACI,cAAe,AACf,oBAAsB,AACtB,gBAAkB,AAClB,iBAAmB,CACtB,AACD,4BACI,SAAW,CACd,AACD,kCACI,eAAiB,CACpB,AACD,+BACI,YAAa,AACb,0BAA6B,AAC7B,aAAc,AACd,eAAiB,CACpB,AACD,8BACI,gBAAmB,CACtB,AACD,iCACI,qBAAuB,AACvB,iBAAoB,CACvB,AACD,sDACI,gCAAkC,CACrC,AACD,6BACI,kBAAoB,CACvB,AACD,uBACI,mBAAsB,CACzB,AACD,+BACI,aAAgB,CACnB,AACD,8BACI,cAAgB,AAChB,aAAc,AACd,iBAAmB,CACtB,AACD,0CACI,kBAAqB,CACxB,AACD,kCACI,WAAY,AACZ,iBAAmB,AACnB,gBAAoB,AACpB,UAAY,CACf,AACD,yBACI,wBAA0B,CAC7B,AACD,yBACI,wBAA0B,CAC7B,AACD,8BACI,kBAAoB,CACvB,AACD,2BACI,WAAY,AACZ,oBAAsB,AACtB,iBAAmB,AAEnB,WAAY,AACZ,kBAAmB,AACnB,eAAkB,CACrB,AACD,0BACI,iBAAkB,AAClB,WAAY,AACZ,mDAA6D,AAC7D,yBAAkC,AAClC,oBAAqB,AACrB,sBAAwB,CAC3B,AACD,4BACI,UAAY,CACf",file:"tripForm.vue",sourcesContent:["\n.mainContentFluid[data-v-19497766] {\r\n    margin-top: 0;\n}\n.fluidWidth[data-v-19497766] {\r\n    padding: 0;\n}\n.adviceName[data-v-19497766] {\r\n    min-height: 1rem;\r\n    padding: .2rem 0;\r\n    /*line-height: 1rem;*/\r\n    border-bottom: none;\r\n    display: flex;\r\n    justify-content: space-between;\n}\n.commonTrip[data-v-19497766] {\r\n    color: #333;\r\n    padding-left: 0.24rem;\r\n    font-size: 0.32rem;\r\n    float: left;\n}\n.commonTrip02[data-v-19497766] {\r\n    color: #333;\r\n    padding-left: 0.32rem;\r\n    font-size: 0.32rem;\r\n    float: left;\n}\n.yd-cell-box[data-v-19497766] {\r\n    margin-bottom: 0;\r\n    border-bottom: 1px dashed #eaeaea !important;\n}\n.tripTime .yd-cell-box[data-v-19497766] {\r\n    border-bottom: none;\n}\n.adviceTxt .yd-cell-box[data-v-19497766] {\r\n    border-bottom: none;\n}\n.tripRemark[data-v-19497766] {\r\n    padding-left: 0.13rem;\r\n    color: #333;\n}\n.tripAppro[data-v-19497766] {\r\n    padding-left: 0.24rem;\n}\n.focus[data-v-19497766] {\r\n    display: none;\n}\n.adviceTxt[data-v-19497766] {\r\n    line-height: 0.6rem;\n}\n.depart[data-v-19497766] {\r\n    font-size: 0.32rem;\n}\n.approPart[data-v-19497766] {\r\n    margin-bottom: 0.3rem;\n}\n.reasonText[data-v-19497766] {\r\n    min-height: 2.76rem;\n}\n.attachment[data-v-19497766] {\r\n    color: #333;\r\n    max-width: 7.5rem;\r\n    float: left;\r\n    margin: 0;\r\n    width: auto;\r\n    margin-bottom: .1rem;\r\n    padding-left: 0;\n}\n.label_box[data-v-19497766] {\r\n    overflow: hidden;\r\n    height: auto;\r\n    position: relative;\r\n    margin-top: .2rem;\n}\n.issueTime[data-v-19497766] {\r\n    float: right;\r\n    margin-top: 0;\r\n    padding-right: 0.15rem;\n}\n.issueName[data-v-19497766] {\r\n    margin-left: 4rem;\r\n    margin-top: 0;\r\n    color: #0a0a0a;\r\n    margin-bottom: .1rem;\n}\n.fl[data-v-19497766] {\r\n    float: left;\n}\n.adviceTitle[data-v-19497766] {\r\n    font-size: 0.32rem;\r\n    color: #999;\n}\n.adviceLeader[data-v-19497766] {\r\n    padding: 0.2rem;\r\n    padding-left: 0.4rem;\r\n    min-height: 2.25rem;\n}\n.sendBtn[data-v-19497766] {\r\n    margin-top: 0;\n}\n.assistBottom[data-v-19497766] {\r\n    border-top: none;\n}\n.last_send[data-v-19497766] {\r\n    height: 100%;\r\n    background-color: #fff;\n}\n.grayColor[data-v-19497766] {\r\n    /*color: #ccc;*/\r\n    background-color: #ccc !important;\n}\n.dateColor[data-v-19497766] {\r\n    color: #999 !important;\r\n    line-height: 1rem;\r\n    padding-right: 0.1rem;\r\n    direction: ltr;\n}\n.selectBtn[data-v-19497766] {\r\n    color: #999 !important;\r\n    font-size: 0.32rem;\r\n    position: relative;\r\n    width: 4.9rem;\r\n    min-height: 1rem;\r\n    float: left;\r\n    text-align: left;\r\n    padding-right: 0.39rem;\n}\n.selectTrip[data-v-19497766] {\r\n    width: 5rem;\r\n    position: relative\n}\n.pleaseSelect2[data-v-19497766] {\r\n    color: #999;\r\n    font-size: .32rem;\r\n    line-height: 0.5rem;\r\n    padding-top: 0.23rem;\n}\n.commonAdvice[data-v-19497766] {\r\n    color: #333;\r\n    font-size: 0.32rem;\r\n    padding-left: 0.35rem;\r\n    padding-top: 0.2rem;\n}\n.trsTextarea[data-v-19497766] {\r\n    font-size: 0.32rem;\r\n    margin-left: 0.35rem;\r\n    padding-right: 0.2rem;\r\n    color: #999;\n}\n.yd-cell-right input[type=text][data-v-19497766] {\r\n    /*color: #f00;*/\r\n    line-height: 2rem;\n}\n.otherTrip[data-v-19497766] {\r\n    width: 100%;\r\n    min-height: 1rem;\r\n    /*border-bottom: 1px dashed #eaeaea !important;*/\r\n    overflow: hidden;\r\n    line-height: 1rem;\n}\n.firstBtn[data-v-19497766] {\r\n    color: #4aaeff;\r\n    margin-right: 0.55rem;\r\n    font-size: 0.3rem;\r\n    align-self: center;\n}\n.yd-tabbar[data-v-19497766] {\r\n    padding: 0;\n}\n.yd-tabbar[data-v-19497766]:after {\r\n    border-top: none;\n}\n.yd-btn-block[data-v-19497766] {\r\n    height: 1rem;\r\n    font-size: 0.3rem !important;\r\n    margin-top: 0;\r\n    border-radius: 0;\n}\n.mainContent[data-v-19497766] {\r\n    padding: 0 0.18rem;\n}\n.contentSradius[data-v-19497766] {\r\n    margin-bottom: 0.09rem;\r\n    margin-top: 0.17rem;\n}\n.part_two .yd-cell-box .yd-cell-item[data-v-19497766] {\r\n    border-bottom: 1px dashed #eaeaea;\n}\n.scheduling[data-v-19497766] {\r\n    min-height: 2.76rem;\n}\n.unit[data-v-19497766] {\r\n    word-spacing: 0.24rem;\n}\n.assistBottom[data-v-19497766] {\r\n    height: 0.99rem;\n}\n.examineLogo[data-v-19497766] {\r\n    height: 0.99rem;\r\n    margin-top: 0;\r\n    border-right: none;\n}\n.examineLogo .yd-flexbox[data-v-19497766] {\r\n    line-height: 0.99rem;\n}\n.examineLogo_txt[data-v-19497766] {\r\n    color: #fff;\r\n    font-size: 0.36rem;\r\n    font-weight: normal;\r\n    width: 100%;\n}\n.btnOne[data-v-19497766] {\r\n    background-color: #46a4f0;\n}\n.btnTwo[data-v-19497766] {\r\n    background-color: #5cc3d1;\n}\n.otherPerson[data-v-19497766] {\r\n    border-bottom: none;\n}\n.tripName[data-v-19497766] {\r\n    color: #333;\r\n    padding-left: 0.52rem;\r\n    font-size: 0.34rem;\r\n    /*float: left;*/\r\n    width: 4rem;\r\n    align-self: center;\r\n    font-weight: bold;\n}\n.endText[data-v-19497766] {\r\n    font-size: .28rem;\r\n    color: #999;\r\n    background: url(../../../static/images/arrow@.png) no-repeat;\r\n    background-position: center right;\r\n    margin-right: .37rem;\r\n    background-size: .23rem;\n}\n.tripName1[data-v-19497766] {\r\n    width: 7rem;\n}\r\n"],sourceRoot:""}])},1172:function(t,e,a){var r=a(1058);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a(188)("55745e74",r,!0,{})},1371:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("yd-layout",[a("div",{directives:[{name:"show",rawName:"v-show",value:t.formFlag,expression:"formFlag"}]},[a("div",{staticClass:"mainContentFluid selectList"},[a("div",{staticClass:"fluidWidth"},[a("div",{staticClass:"adviceName"},[a("div",{staticClass:"tripName",class:{tripName1:1==t.applyList.length}},[t._v("\n                        "+t._s(t.firstorgname)+t._s(t.confirmItem)+"\n                    ")]),t._v(" "),1!=t.applyList.length?a("div",{staticClass:"selectAdvice firstBtn",on:{click:function(e){t.statusPopup=!0,t.popupArr=t.applyList}}},[t._v("\n                        选择其他出差人\n                    ")]):t._e()])])]),t._v(" "),a("div",{staticClass:"mainContent"},[a("div",{staticClass:"contentSradius"},[a("div",{staticClass:"clear"}),t._v(" "),a("yd-cell-group",[a("yd-cell-item",[a("span",{staticClass:"depart",attrs:{slot:"left"},slot:"left"},[t._v("出差地点：")]),t._v(" "),a("yd-input",{attrs:{slot:"right",id:"js_addressInput",placeholder:"请输入您的出差地点"},slot:"right",model:{value:t.travelplace,callback:function(e){t.travelplace=e},expression:"travelplace"}})],1)],1),t._v(" "),a("div",{staticClass:"part_two tripTime"},[a("yd-cell-group",[a("yd-cell-item",{attrs:{arrow:""}},[a("span",{staticClass:"depart",attrs:{slot:"left"},slot:"left"},[t._v("开始时间：")]),t._v(" "),a("yd-datetime",{class:"dateColor",attrs:{slot:"right",type:"date"},slot:"right",model:{value:t.startdate,callback:function(e){t.startdate=e},expression:"startdate"}})],1),t._v(" "),a("yd-cell-item",{attrs:{arrow:""}},[a("span",{staticClass:"depart",attrs:{slot:"left"},slot:"left"},[t._v("结束时间：")]),t._v(" "),a("yd-datetime",{class:"dateColor",attrs:{slot:"right",type:"date"},slot:"right",model:{value:t.enddate,callback:function(e){t.enddate=e},expression:"enddate"}})],1)],1)],1),t._v(" "),a("yd-cell-group",[a("yd-cell-item",[a("span",{staticClass:"depart",attrs:{slot:"left"},slot:"left"},[t._v("出差天数：")]),t._v(" "),a("yd-input",{attrs:{slot:"right",id:"js_daysInput",placeholder:"请输入您的出差天数"},slot:"right",model:{value:t.inputDay,callback:function(e){t.inputDay=e},expression:"inputDay"}})],1)],1),t._v(" "),a("div",{staticClass:"otherTrip otherPerson"},[a("div",{staticClass:"commonTrip"},[t._v("\n                        随行人员：\n                    ")]),t._v(" "),""==t.othertravelnames?a("div",{staticClass:"selectBtn",on:{click:function(e){t.$router.push("/tripOrgPerson")}}},[a("yd-navbar-next-icon",[t._v("请选择您的随行人员")])],1):t._e(),t._v(" "),""!=t.othertravelnames?a("div",{staticClass:"selectBtn",on:{click:function(e){t.$router.push("/tripOrgPerson")}}},[a("div",{staticClass:"pleaseSelect2",domProps:{textContent:t._s(t.othertravelnames)}}),t._v(" "),a("yd-navbar-next-icon")],1):t._e()])],1)]),t._v(" "),a("div",{staticClass:"mainContent"},[a("div",{staticClass:"contentSradius"},[a("div",{staticClass:"adviceTxt reasonText"},[a("div",{staticClass:"commonAdvice"},[t._v("出差事由：")]),t._v(" "),a("trsTextarea",{attrs:{id:"js_reasonInput",placeholder:"请填写您的出差事由"},model:{value:t.reason,callback:function(e){t.reason=e},expression:"reason"}})],1)])]),t._v(" "),a("div",{staticClass:"mainContent"},[a("div",{staticClass:"contentSradius"},[a("div",{staticClass:"adviceTxt scheduling"},[a("div",{staticClass:"commonAdvice"},[t._v("行程安排：")]),t._v(" "),a("trsTextarea",{attrs:{id:"js_reason2Input",placeholder:t.placeholder},model:{value:t.reason2,callback:function(e){t.reason2=e},expression:"reason2"}})],1)])]),t._v(" "),1==t.secondFlag&&0!=t.aproveList.length?a("div",{staticClass:"mainContentFluid"},[a("div",{staticClass:"fluidWidth"},[a("div",{staticClass:"adviceLeader"},[a("yd-flexbox-item",[a("yd-flexbox",[a("div",{staticClass:"adviceTitle"},[t._v("领导审批意见：")])])],1),t._v(" "),a("yd-flexbox-item",[a("yd-flexbox",[a("div",{staticStyle:{width:"100%"}},t._l(t.aproveList,function(e){return a("div",{staticClass:"label_box"},[""!=e.userName1?a("div",{staticClass:"range_txt attachment"},[t._v(t._s(e.userName1)+"：")]):t._e(),t._v(" "),a("div",{staticClass:"range_txt attachment",domProps:{textContent:t._s(e.neirong)}}),t._v(" "),a("div",{staticClass:"range_txt issueName"},[a("div",{staticClass:"range issueTime",domProps:{textContent:t._s(t.getDay(e.submitDate))}})])])}))])],1)],1)])]):t._e()]),t._v(" "),a("yd-popup",{directives:[{name:"show",rawName:"v-show",value:t.formFlag,expression:"formFlag"}],attrs:{position:"bottom",height:"4rem"},model:{value:t.statusPopup,callback:function(e){t.statusPopup=e},expression:"statusPopup"}},[a("div",{staticClass:"confirmBtn",attrs:{slot:"top"},slot:"top"},[a("div",{staticClass:"leftBtn",on:{click:function(e){t.statusPopup=!1}}},[t._v("取消")]),t._v(" "),a("div",{staticClass:"rightBtn",on:{click:function(e){t.statusPopup=!1}}},[t._v("确定")])]),t._v(" "),a("div",{staticClass:"selectStatus"},[a("ul",{staticClass:"ul"},t._l(t.popupArr,function(e,r){return a("li",{staticClass:"li",class:{active:t.statusRadio==r},domProps:{textContent:t._s(e.empname)},on:{click:function(a){t.statusRadio=r,t.applicantname=e.empname,t.confirmItem=t.applicantname,t.applicantid=e.operatorid,t.firstorgname=e.firstOrgName,t.applicantUserId=e.userid}}})}))])]),t._v(" "),t.formFlag&&0==t.statusPopup&&1!=t.status&&"1"==t.orgtype&&0==t.secondFlag?a("yd-tabbar",{attrs:{slot:"tabbar"},slot:"tabbar"},[a("div",{staticClass:"assistBottom"},[a("div",{staticClass:"examineLogo btnOne",class:{grayColor:2==t.applicanttype}},[a("yd-flexbox",{attrs:{id:"js_sendLeader"},nativeOn:{click:function(e){t.setFlag(1)}}},[a("div",{staticClass:"examineLogo_txt sendBtn"},[t._v("送领导审批")])])],1),t._v(" "),"true"==t.isboss?a("div",{staticClass:"examineLogo btnTwo"},[a("yd-flexbox",{attrs:{id:"js_sendAgent"},nativeOn:{click:function(e){t.setFlag(4)}}},[a("div",{staticClass:"examineLogo_txt sendBtn"},[t._v("送事务助理")])])],1):t._e(),t._v(" "),"false"==t.isboss?a("div",{staticClass:"examineLogo btnTwo grayColor"},[a("yd-flexbox",{attrs:{id:"js_sendAgent"}},[a("div",{staticClass:"examineLogo_txt sendBtn"},[t._v("提交")])])],1):t._e()])]):t._e(),t._v(" "),t.formFlag&&0==t.statusPopup&&1!=t.status&&"1"==t.orgtype&&1==t.secondFlag?a("yd-tabbar",{attrs:{slot:"tabbar"},slot:"tabbar"},[a("div",{staticClass:"assistBottom"},[a("div",{staticClass:"examineLogo btnOne",class:{grayColor:"doApprove"!=t.doApproveKey}},[a("yd-flexbox",{attrs:{id:"js_sendLeader"},nativeOn:{click:function(e){t.setFlag(1)}}},[a("div",{staticClass:"examineLogo_txt sendBtn"},[t._v("送领导审批")])])],1),t._v(" "),"finishActivity"!=t.finishActivity&&"true"==t.isboss?a("div",{staticClass:"examineLogo btnTwo",class:{grayColor:"travelSecrataryActivity"!=t.travelSecrataryActivity}},[a("yd-flexbox",{attrs:{id:"js_sendAgent"},nativeOn:{click:function(e){t.setFlag(4)}}},[a("div",{staticClass:"examineLogo_txt sendBtn"},[t._v("送事务助理")])])],1):t._e(),t._v(" "),"finishActivity"!=t.finishActivity&&""==t.pageNotice||"false"!=t.isboss?t._e():a("div",{staticClass:"examineLogo btnTwo",class:{grayColor:"finishActivity"!=t.finishActivity}},[a("yd-flexbox",{attrs:{id:"js_sendAgent"},nativeOn:{click:function(e){t.finishSend()}}},[a("div",{staticClass:"examineLogo_txt sendBtn"},[t._v("提交")])])],1)])]):t._e(),t._v(" "),t.formFlag&&"2"==t.orgtype&&1!=t.status&&0==t.statusPopup?a("yd-tabbar",{attrs:{slot:"tabbar"},slot:"tabbar"},[a("div",{staticClass:"assistBottom"},[a("div",{staticClass:"examineLogo btnOne",class:{grayColor:2==t.applicanttype}},[a("yd-flexbox",{attrs:{id:"js_sendLeader"},nativeOn:{click:function(e){t.setFlag(1)}}},[a("div",{staticClass:"examineLogo_txt sendBtn"},[t._v("送领导审批")])])],1),t._v(" "),"true"==t.isboss?a("div",{staticClass:"examineLogo btnTwo",class:{grayColor:"travelApproveActivity2"!=t.travelApproveActivity2}},[a("yd-flexbox",{nativeOn:{click:function(e){t.send()}}},[a("div",{staticClass:"examineLogo_txt sendBtn"},[t._v("送办公室备案")])])],1):t._e(),t._v(" "),"false"==t.isboss?a("div",{staticClass:"examineLogo btnTwo",class:{grayColor:"finishActivity"!=t.finishActivity}},[a("yd-flexbox",{nativeOn:{click:function(e){t.finishSend()}}},[a("div",{staticClass:"examineLogo_txt sendBtn"},[t._v("提交")])])],1):t._e()])]):t._e()],1)},staticRenderFns:[]}},846:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAZ1JREFUOBFjYBjsgBmXAxsaGjhERUX/X7t27T8uNdjEsRrY398vICQkdFBRUdHQxMRk14EDB/5i04xNjAmb4MePH38AxT8yMjKmSUpKzu/r6+PEpg6bGCM2QZAYyJVcXFzLgExPIN7w4cOHuPLy8s8gOXwAp4EgTVOnTuVhZmaeD3RpCJC76+vXr5FFRUXv8BmI1cswDdnZ2V9evHgR+////0VAMTdubu6NQEskYPLYaLwuhGkAxjgLMCwnAfmZQHwWiIPS09MfweSRaaIMhGmYMWNGB9D75UD+hT9//tiCfACTg9F4vQxTBKVBlrOC2MAg+PHz50+sSYkoF4K8LCEhMRWUjICGHQfSwUAvP4dahEKxoPCwcCZNmsQOBDOBUvFAfPDXr1+heXl5r7EoBQvhdSEoQQNjdh5QZQQQ7/r7929EVlbWe1yGgcRxuhCaBkHJJRDozS1Al0UDXfYJn2EgOayRAgozYIJeDgyrQKCatZ8/f44gxjCcBnICAdAwGaDLlgJzR2xpaelXkGKKwMyZM7mAGJxMKDJo0GkGAKaVh3pu27+oAAAAAElFTkSuQmCC"},937:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(45),n=a.n(r),o=a(83),i=a.n(o),s=a(28),l=a.n(s),d=a(20);e.default={name:"tripForm",data:function(){return{formJson:{},reason:"",confirmItem:"",startdate:"",enddate:"",applicantid:"",traveldays:"",travelplace:"",othertravelnames:"",selectothertravelnames:{},reason2:"",firstorgname:"",applicantUserId:"",checkNum:999,secretariesNum:999,statusPopup:!1,statusPopup02:!1,applicantname:"",queryTypeArr:[23,24,25],approver:[],othertravelType:"",applyList:[],statusRadio:0,statusRadio02:99,popupArr:[],travelSecrataryActivity:"",addFlag:!1,sendFlag:!1,formFlag:!0,agencyFlag:!1,applicanttype:"",aproveList:[],endSelect:"",showTime:!1,endText:"请选择出差结束时间",Edate:"",orgtype:"",rLeaderIDs:"",placeholder:"如有行程安排，可以参照以下格式书写： \n1月1日上午 参加启动会 \n1月1日下午，参加圆桌论坛 \n.... \n1月3日下午 结束会议返回上海，预计下午6点到达上海",status:this.$route.params.status,secondFlag:"true"===this.$route.params.secondFlag||!0===this.$route.params.secondFlag,errorTime:0,inputDay:"",finishActivity:"",isboss:"false",doApproveKey:"",applicantcode:"",travelApproveActivity2:"",pageNotice:"",queryHandlerPerson:[23,24,25],othertravelids:""}},mounted:function(){var t=this;document.setTitle("出差审批"),t.pageRender(),t.select();var e=new Date;""==t.getTravelInfo.startdate&&(t.startdate=t.formatDate(e,"yyyy-MM-dd")),""==t.getTravelInfo.enddate&&(t.enddate=t.formatDate(e,"yyyy-MM-dd"))},computed:l()({},a.i(d.a)(["getUserInfo","getTravelInfo","getSearchInfo"])),watch:{inputDay:function(){var t=this;isNaN(t.inputDay)?(t.$dialog.toast({mes:"出差天数请输入数字",timeout:2e3}),t.traveldays=t.inputDay):t.traveldays=t.inputDay},approver:function(){var t=this;t.setTravelInfo({approver:t.approver})},reason:function(){var t=this;t.setTravelInfo({reason:t.reason})},confirmItem:function(){var t=this;t.setTravelInfo({confirmItem:t.confirmItem})},startdate:function(){var t=this;t.setTravelInfo({startdate:t.startdate})},enddate:function(){var t=this;t.setTravelInfo({enddate:t.enddate})},applicantid:function(){var t=this;t.setTravelInfo({applicantid:t.applicantid})},traveldays:function(){var t=this;t.setTravelInfo({traveldays:t.traveldays})},travelplace:function(){var t=this;t.setTravelInfo({travelplace:t.travelplace})},othertravelnames:function(){var t=this;t.setTravelInfo({othertravelnames:t.othertravelnames})},selectothertravelnames:function(){var t=this;t.setTravelInfo({selectothertravelnames:t.selectothertravelnames})},reason2:function(){var t=this;t.setTravelInfo({reason2:t.reason2})},firstorgname:function(){var t=this;t.setTravelInfo({firstorgname:t.firstorgname})},applicantUserId:function(){var t=this;t.setTravelInfo({applicantUserId:t.applicantUserId}),t.isLeader(t.applicantUserId)},statusRadio:function(){var t=this;t.setTravelInfo({statusRadio:t.statusRadio})},othertravelids:function(){var t=this;t.setTravelInfo({othertravelids:t.othertravelids})}},destroyed:function(){this.errorTime=0},methods:l()({},a.i(d.c)(["setTravelInfo","setSearchInfo"]),{select:function(){var t=this;t.othertravelids=t.getSearchInfo.selUserId.toString(),t.othertravelnames=t.getSearchInfo.selUserName.toString()},pageRender:function(){var t=this;if(1==t.secondFlag)if(""!=t.getTravelInfo.jsonData&&t.getTravelInfo.jsonData.workId==t.$route.params.workItemID){t.aproveList=[].concat(i()(t.getTravelInfo.jsonData.applyopinions),i()(t.getTravelInfo.jsonData.leaderopinions)),t.aproveList.sort(function(t,e){var a=t.submitDate.replace(/-/g,"/"),r=e.submitDate.replace(/-/g,"/");return Date.parse(r)-Date.parse(a)}),t.isLeader(t.getTravelInfo.jsonData.applicantcode),t.confirmItem=t.getTravelInfo.jsonData.applicantname,t.applicantid=t.getTravelInfo.jsonData.applicantid,t.othertravelnames=t.getTravelInfo.jsonData.othertravelnames,t.othertravelids=t.getTravelInfo.jsonData.othertravelids,t.travelplace=t.getTravelInfo.jsonData.travelplace,t.traveldays=t.getTravelInfo.jsonData.traveldays,t.reason=t.transferString(t.getTravelInfo.jsonData.reason),t.reason2=t.transferString(t.getTravelInfo.jsonData.reason2),t.firstorgname=t.getTravelInfo.jsonData.firstorgname,t.firstorgname=t.getTravelInfo.jsonData.firstorgname,t.startdate=t.formatDate(t.getTravelInfo.jsonData.startdate,"yyyy-MM-dd"),t.enddate=t.formatDate(t.getTravelInfo.jsonData.enddate,"yyyy-MM-dd"),t.applicantcode=t.getTravelInfo.jsonData.applicantcode,t.inputDay=t.getTravelInfo.jsonData.traveldays,t.pageNotice=t.getTravelInfo.jsonData.pageNotice,t.statusRadio=t.getTravelInfo.statusRadio;for(var e in t.getTravelInfo.jsonData.nextBtn)-1!=e.indexOf("travelApproveActivity2")&&(t.travelApproveActivity2=e,t.rLeaderIDs=t.getTravelInfo.jsonData.nextBtn[e][0]),-1!=e.indexOf("travelSecrataryActivity1")&&(t.travelSecrataryActivity=e),-1!=e.indexOf("travelSecrataryActivity")&&(t.travelSecrataryActivity=e),-1!=e.indexOf("finishActivity")&&(t.finishActivity=e),-1!=e.indexOf("doApprove")&&(t.doApproveKey=e)}else t.getTripInit();else t.reason=t.getTravelInfo.reason,t.confirmItem=t.getTravelInfo.confirmItem,t.startdate=t.getTravelInfo.startdate,t.enddate=t.getTravelInfo.enddate,t.Edate=t.getTravelInfo.enddate,""!=t.getTravelInfo.enddate&&(t.endText=t.getTravelInfo.enddate),t.applicantid=t.getTravelInfo.applicantid,t.traveldays=t.getTravelInfo.traveldays,t.inputDay=t.getTravelInfo.traveldays,t.travelplace=t.getTravelInfo.travelplace,t.othertravelnames=t.getTravelInfo.othertravelnames,t.othertravelids=t.getTravelInfo.othertravelids,t.selectothertravelnames=t.getTravelInfo.selectothertravelnames,t.reason2=t.getTravelInfo.reason2,t.firstorgname=t.getTravelInfo.firstorgname,t.applicantUserId=t.getTravelInfo.applicantUserId,t.statusRadio=t.getTravelInfo.statusRadio;0==t.getTravelInfo.approver.length&&t.queryLeader(),0==t.getTravelInfo.applyList.length?t.getApplyName():(t.applyList=t.getTravelInfo.applyList,t.applicantname=t.getTravelInfo.confirmItem),0==t.getTravelInfo.secretariesList.length&&t.getApprover()},queryLeader:function(){var t=this;t.queryHandlerPerson.map(function(e,a){t.get(t.conf.portalMobile+"/API/WorkFlow/oawf/handlerPerson",{type:"travelremark",token:t.getUserInfo.ssotoken+"L/wp-2q"+t.getUserInfo.ssotokenCode,queryType:e},function(a){if(t.approver=[].concat(i()(t.approver),i()(a.jsonData)),25==e){var r={},n=t.approver.reduceRight(function(t,e){return r[e.operatorid]||(r[e.operatorid]=t.push(e)),t},[]);t.approver=n}},function(t){},!1)})},getApprover:function(){var t=this;t.post(t.conf.portalMobile+"/API/WorkFlow/oawf/handlerPerson",{type:"travelremark",token:t.getUserInfo.ssotoken+"L/wp-2q"+t.getUserInfo.ssotokenCode,queryType:7},function(e){t.setTravelInfo({secretariesList:e.jsonData})},function(t){},!1)},isLeader:function(t){var e=this;e.get(e.conf.portalMobile+"/API/WorkFlow/oawf/approveFlag",{type:"travelremark",token:e.getUserInfo.ssotoken+"L/wp-2q"+e.getUserInfo.ssotokenCode,workItemID:0,personID:t},function(t){e.applicanttype=t.jsonData.applicanttype,e.orgtype=t.jsonData.orgtype,e.isboss=t.jsonData.isboss})},getApplyName:function(){var t=this;new n.a(function(e,a){t.get(t.conf.portalMobile+"/API/WorkFlow/oawf/handlerPerson",{type:"travelremark",token:t.getUserInfo.ssotoken+"L/wp-2q"+t.getUserInfo.ssotokenCode,queryType:27},function(a){t.applyList=a.jsonData,t.setTravelInfo({applyList:t.applyList}),t.applyList.map(function(e,a){e.userid==t.applicantcode&&(t.statusRadio=a,t.confirmItem=t.applyList[a].empname,t.applicantname=t.applyList[a].empname,t.applicantid=t.applyList[a].operatorid,t.firstorgname=t.applyList[a].firstOrgName,t.firstorgname=t.applyList[a].firstOrgName,t.applicantUserId=t.applyList[a].userid)}),0==t.secondFlag&&(t.confirmItem=t.applyList[0].empname,t.applicantname=t.applyList[0].empname,t.applicantid=t.applyList[0].operatorid,t.firstorgname=t.applyList[0].firstOrgName,t.firstorgname=t.applyList[0].firstOrgName,t.applicantUserId=t.applyList[0].userid),e(!0)})}).then(function(e){0==t.secondFlag&&t.isLeader(t.applicantUserId)})},getTripInit:function(){var t=this;new n.a(function(e,a){t.get(t.conf.portalMobile+"/API/WorkFlow/oawf/queryForm",{type:"travelremark",workItemID:t.$route.params.workItemID,token:t.getUserInfo.ssotoken+"L/wp-2q"+t.getUserInfo.ssotokenCode},function(a){if(10!=a.jsonData.CURRENTSTATE&&0==t.$route.params.status&&"true"==a.isSuccess&&(t.$dialog.toast({mes:"该流程已被处理",timeout:2e3,callback:function(){setTimeout(function(){0==t.$route.params.status&&t.$router.push("/handle")})}}),0==t.$route.params.status))return!1;"false"==a.isSuccess?(t.errorTime++,t.errorTime<3?t.getTripInit():(t.$dialog.loading.close(),t.$dialog.toast({mes:"表单未加载成功",timeout:2e3,callback:function(){t.$router.push("/handle")}}))):(e(!0),t.$dialog.loading.close()),t.aproveList=[].concat(i()(a.jsonData.applyopinions),i()(a.jsonData.leaderopinions)),t.aproveList.sort(function(t,e){var a=t.submitDate.replace(/-/g,"/"),r=e.submitDate.replace(/-/g,"/");return Date.parse(r)-Date.parse(a)}),t.formData=a.jsonData,a.jsonData.workId=t.$route.params.workItemID,t.setTravelInfo({jsonData:a.jsonData,aproveList:t.aproveList}),t.confirmItem=t.formData.applicantname,t.applicantid=t.formData.applicantid,t.othertravelnames=t.formData.othertravelnames,t.othertravelids=t.formData.othertravelids,t.travelplace=t.formData.travelplace,t.traveldays=t.formData.traveldays,t.reason=t.transferString(t.formData.reason),t.reason2=t.transferString(t.formData.reason2),t.firstorgname=t.formData.firstorgname,t.firstorgname=t.formData.firstorgname,t.startdate=t.formatDate(t.formData.startdate,"yyyy-MM-dd"),t.enddate=t.formatDate(t.formData.enddate,"yyyy-MM-dd"),t.applicantcode=t.formData.applicantcode,t.inputDay=t.formData.traveldays,t.pageNotice=t.formData.pageNotice,t.setSearchInfo({selUserId:t.formData.othertravelids.split(","),selUserName:t.formData.othertravelnames.split(",")}),t.secondFlag&&""!=t.enddate&&(t.endText=t.enddate);for(var r in a.jsonData.nextBtn)-1!=r.indexOf("travelApproveActivity2")&&(t.travelApproveActivity2=r,t.rLeaderIDs=a.jsonData.nextBtn[r][0]),-1!=r.indexOf("travelSecrataryActivity1")&&(t.travelSecrataryActivity=r),-1!=r.indexOf("travelSecrataryActivity")&&(t.travelSecrataryActivity=r),-1!=r.indexOf("finishActivity")&&(t.finishActivity=r),-1!=r.indexOf("doApprove")&&(t.doApproveKey=r)})}).then(function(e){t.isLeader(t.applicantcode),t.getApplyName()})},setFlag:function(t){var e=this,a=new Date(e.enddate).getTime(),r=new Date(e.startdate).getTime(),n=24*e.traveldays*60*60*1e3;if(1==t&&"2"!=e.applicanttype&&0==e.secondFlag||1==t&&1==e.secondFlag&&"doApprove"==e.doApproveKey)if(""==e.confirmItem)e.$dialog.toast({mes:"请选择出差人",timeout:2e3});else if(""==e.travelplace)e.$dialog.toast({mes:"请输入您的出差地点",timeout:2e3});else if(""==e.enddate)e.$dialog.toast({mes:"请输入您的出差结束时间",timeout:2e3});else if(isNaN(e.traveldays))e.$dialog.toast({mes:"出差天数请输入数字",timeout:2e3});else{if(""!=e.enddate&&n>a-r+864e5)return e.$dialog.toast({mes:"输入时长大于实际时长",timeout:2e3}),!1;""==e.reason?e.$dialog.toast({mes:"请输入出差事由",timeout:2e3}):e.reason.length>1e3?e.$dialog.toast({mes:"出差事由最大长度为1000字符",timeout:2e3}):e.reason2.length>1e3?e.$dialog.toast({mes:"行程安排最大长度为1000字符",timeout:2e3}):void 0==e.$route.params.workItemID?e.$router.push("/lastsend/0"):e.$router.push("/lastsend/"+e.$route.params.workItemID)}else if(2==t)e.addFlag=!0,e.sendFlag=!1,e.formFlag=!1,e.agencyFlag=!1;else if(3==t)e.addFlag=!1,e.sendFlag=!1,e.formFlag=!0,e.agencyFlag=!1;else if(0==e.secondFlag&&4==t&&"true"==e.isboss||1==e.secondFlag&&4==t&&"travelSecrataryActivity"==e.travelSecrataryActivity)if(""==e.confirmItem)e.$dialog.toast({mes:"请选择出差人",timeout:2e3});else if(""==e.travelplace)e.$dialog.toast({mes:"请输入您的出差地点",timeout:2e3});else if(""==e.enddate)e.$dialog.toast({mes:"请输入您的出差结束时间",timeout:2e3});else if(isNaN(e.traveldays))e.$dialog.toast({mes:"出差天数请输入数字",timeout:2e3});else{if(""!=e.enddate&&n>a-r+864e5)return e.$dialog.toast({mes:"输入时长大于实际时长",timeout:2e3}),!1;""==e.reason?e.$dialog.toast({mes:"请输入出差事由",timeout:2e3}):e.reason.length>1e3?e.$dialog.toast({mes:"出差事由最大长度为1000字符",timeout:2e3}):e.reason2.length>1e3?e.$dialog.toast({mes:"行程安排最大长度为1000字符",timeout:2e3}):void 0==e.$route.params.workItemID?e.$router.push("/agencySend/0"):e.$router.push("/agencySend/"+e.$route.params.workItemID)}},getDay:function(t){return t=t.replace(/-/g,"/"),new Date(t).getMonth()+1+"月"+new Date(t).getDate()+"日"},openShowTime:function(){this.showTime=!0,this.$refs.datetime.open()},send:function(){var t=this;"travelApproveActivity2"==t.travelApproveActivity2&&t.get(t.conf.portalMobile+"/API/WorkFlow/oawf/doOANext",{type:"travelremark",workItemID:t.$route.params.workItemID,token:t.getUserInfo.ssotoken+"L/wp-2q"+t.getUserInfo.ssotokenCode,activityID:"travelApproveActivity2",leaderIDs:t.rLeaderIDs,fuyan:"",opinion:"",workTitle:t.firstorgname+t.confirmItem+"出差备案申请",ext:'{"applicantid":"'+t.applicantid+'","applicantname":"'+t.confirmItem+'","startdate":"'+t.startdate+'","enddate":"'+t.enddate+'","traveldays":"'+t.traveldays+'","travelplace":"'+t.travelplace+'","othertravelnames":"'+t.othertravelnames+'","othertravelids":"'+t.othertravelids+'","reason":"'+t.reason+'","reason2":"'+t.reason2+'"}'},function(e){t.$dialog.toast({mes:"发送成功",timeout:2e3,callback:function(){t.$router.push("/handle")}})})},finishSend:function(){var t=this;"finishActivity"==t.finishActivity?t.get(t.conf.portalMobile+"/API/WorkFlow/oawf/doOANext",{type:"travelremark",workItemID:t.$route.params.workItemID,token:t.getUserInfo.ssotoken+"L/wp-2q"+t.getUserInfo.ssotokenCode,activityID:"finishActivity",leaderIDs:"",fuyan:"",opinion:"",workTitle:t.firstorgname+t.confirmItem+"出差备案申请",ext:""},function(e){t.$dialog.toast({mes:"发送成功",timeout:2e3,callback:function(){t.$router.push("/handle")}})}):""!=t.pageNotice&&t.$dialog.toast({mes:t.pageNotice,timeout:2e3})}})}},97:function(t,e,a){function r(t){a(1172)}var n=a(12)(a(937),a(1371),r,"data-v-19497766",null);t.exports=n.exports}});
//# sourceMappingURL=4.a1aac7eb1f1cbff721c6.js.map