webpackJsonp([29],{1028:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(45),o=a.n(n),r=a(28),i=a.n(r),s=a(779),d=a.n(s),l=a(20);t.default={name:"viewSchedules",components:{trsTree:d.a},data:function(){return{theModel:[],jsonData:[],searchFlag:!1,name:"",type:!1,bottomPopup:!1,jiekouFlag:!1,allPeople:[],orgQueryList:[],firstArr:[]}},computed:i()({},a.i(l.a)(["getTitleName","getScheduleInfo","getUserInfo"])),mounted:function(){this.pageRender(),document.setTitle(this.getTitleName),console.log(this.getTitleName)},methods:{shareFun:function(e,t){t.stopPropagation();var a=this;a.get(a.conf.portalMobile+"/API/Calendar/mobileInterface/shareCalendar",{ssotoken:a.getUserInfo.empcode,otherEmpcode:e,shareUrl:a.getScheduleInfo.shareUrl,title:a.getScheduleInfo.title,message:a.getScheduleInfo.message},function(e){new o.a(function(e,t){a.$dialog.toast({mes:"分享成功",timeout:1500}),e()}).then(function(){a.searchFlag=!1,a.name=""})})},search:function(e){var t,a=this;new o.a(function(n,o){a.orgQueryList=[];for(t in a.jsonData){null!=a.jsonData[t].text.match(new RegExp(e))&&a.orgQueryList.push(a.jsonData[t])}}).then()},pageRender:function(e){var t=this;t.get(t.conf.portalMobile+"/API/Calendar/mobileInterface/orgTree",{ssotoken:t.getUserInfo.empcode},function(e){var a=e.jsonData[205].children.split(";");t.jsonData=e.jsonData;for(var n=0;n<a.length;n++){var o=a[n],r=e.jsonData[o];void 0!=r&&t.theModel.push(r)}})}}}},1074:function(e,t,a){t=e.exports=a(187)(!0),t.push([e.i,".face[data-v-2f007d9d]{width:.84rem;height:.84rem;border-radius:1000px;border:1px solid #efeeec;position:absolute;top:.3rem}.desc[data-v-2f007d9d]{padding:.3rem 0;padding-left:1.2rem}.name[data-v-2f007d9d]{color:#333;font-size:.3rem}.face img[data-v-2f007d9d]{width:100%}.desc[data-v-2f007d9d],.office[data-v-2f007d9d]{font-size:.24rem;line-height:.44rem}.yd-flexbox[data-v-2f007d9d]{padding:0 .24rem;position:relative}.schedules[data-v-2f007d9d]{background:#fff;position:relative}.schedules .searchContent[data-v-2f007d9d]{position:absolute;top:.8rem;left:0;width:100%;height:auto;min-height:100%;background:#fff;z-index:99}.searchLi[data-v-2f007d9d]{height:50px;line-height:50px;border-bottom:1px dotted #ccc;padding-left:.8rem}.contactPerson[data-v-2f007d9d]{background:#f0efed;font-size:.26rem;line-height:.55rem;padding-left:.3rem}.yd-cell-left span[data-v-2f007d9d]{font-size:.3rem}.yd-cell-box[data-v-2f007d9d]{margin-bottom:0}","",{version:3,sources:["D:/3/中国银联/oamobile-funs/src/web/schedule/shareCntacts.vue"],names:[],mappings:"AACA,uBACI,aAAc,AACd,cAAe,AACf,qBAAsB,AACtB,yBAA0B,AAC1B,kBAAmB,AACnB,SAAW,CACd,AACD,uBACI,gBAAiB,AACjB,mBAAqB,CACxB,AACD,uBACI,WAAe,AACf,eAAiB,CACpB,AACD,2BACI,UAAY,CACf,AACD,gDAEI,iBAAkB,AAClB,kBAAoB,CACvB,AACD,6BACI,iBAAkB,AAClB,iBAAmB,CACtB,AACD,4BACI,gBAAoB,AACpB,iBAAmB,CACtB,AACD,2CACI,kBAAmB,AACnB,UAAW,AACX,OAAQ,AACR,WAAY,AACZ,YAAa,AACb,gBAAiB,AACjB,gBAAiB,AACjB,UAAY,CACf,AACD,2BACI,YAAa,AACb,iBAAkB,AAClB,8BAA+B,AAC/B,kBAAqB,CACxB,AACD,gCACI,mBAAoB,AACpB,iBAAkB,AAClB,mBAAoB,AACpB,kBAAoB,CACvB,AACD,oCACI,eAAiB,CACpB,AACD,8BACI,eAAiB,CACpB",file:"shareCntacts.vue",sourcesContent:["\n.face[data-v-2f007d9d] {\r\n    width: .84rem;\r\n    height: .84rem;\r\n    border-radius: 1000px;\r\n    border: 1px solid #EFEEEC;\r\n    position: absolute;\r\n    top: .3rem;\n}\n.desc[data-v-2f007d9d] {\r\n    padding: .3rem 0;\r\n    padding-left: 1.2rem;\n}\n.name[data-v-2f007d9d] {\r\n    color: #333333;\r\n    font-size: .3rem;\n}\n.face img[data-v-2f007d9d] {\r\n    width: 100%;\n}\n.office[data-v-2f007d9d],\r\n.desc[data-v-2f007d9d] {\r\n    font-size: .24rem;\r\n    line-height: .44rem;\n}\n.yd-flexbox[data-v-2f007d9d] {\r\n    padding: 0 .24rem;\r\n    position: relative;\n}\n.schedules[data-v-2f007d9d] {\r\n    background: #ffffff;\r\n    position: relative;\n}\n.schedules .searchContent[data-v-2f007d9d] {\r\n    position: absolute;\r\n    top: .8rem;\r\n    left: 0;\r\n    width: 100%;\r\n    height: auto;\r\n    min-height: 100%;\r\n    background: #fff;\r\n    z-index: 99;\n}\n.searchLi[data-v-2f007d9d] {\r\n    height: 50px;\r\n    line-height: 50px;\r\n    border-bottom: 1px dotted #ccc;\r\n    padding-left: 0.8rem;\n}\n.contactPerson[data-v-2f007d9d] {\r\n    background: #F0EFED;\r\n    font-size: .26rem;\r\n    line-height: .55rem;\r\n    padding-left: .3rem;\n}\n.yd-cell-left span[data-v-2f007d9d] {\r\n    font-size: .3rem;\n}\n.yd-cell-box[data-v-2f007d9d] {\r\n    margin-bottom: 0;\n}\r\n"],sourceRoot:""}])},1188:function(e,t,a){var n=a(1074);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(188)("7e403e25",n,!0,{})},1387:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("yd-layout",[a("yd-navbar",{attrs:{bgcolor:"#70b6ef",title:"分享",color:"#fff",fontsize:"0.36rem"}},[a("router-link",{attrs:{slot:"left",to:"/"},slot:"left"},[a("yd-navbar-back-icon",{attrs:{color:"#fff"}},[e._v("返回")])],1)],1),e._v(" "),a("div",{staticClass:"schedules"},[a("div",{staticClass:"search"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"searchWord",attrs:{type:"text",name:"searchWord",placeholder:"搜索"},domProps:{value:e.name},on:{focus:function(t){e.searchFlag=!0,e.orgQueryList=[]},keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.search(e.name)},input:function(t){t.target.composing||(e.name=t.target.value)}}})]),e._v(" "),e.searchFlag?a("div",{staticClass:"searchContent",on:{click:function(t){e.searchFlag=!1,e.name=""}}},[a("ul",e._l(e.orgQueryList,function(t){return a("li",{staticClass:"searchLi",domProps:{textContent:e._s(t.text+" "+e.jsonData[e.jsonData[t.parent].parent].text+"/"+e.jsonData[t.parent].text)},on:{click:function(a){a.stopPropagation(),e.shareFun(t.id,a)}}})}))]):e._e(),e._v(" "),a("yd-cell-group",[a("yd-cell-item",{attrs:{arrow:""},nativeOn:{click:function(t){e.jiekouFlag=!e.jiekouFlag}}},[a("span",{attrs:{slot:"left"},slot:"left"},[e._v("按组织架构去找")]),e._v(" "),a("span",{attrs:{slot:"right"},slot:"right"})])],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.jiekouFlag,expression:"jiekouFlag"}],staticClass:"tree-menu"},[a("trs-tree",{attrs:{type:e.type},on:{callbackTop:e.shareFun}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.jiekouFlag,expression:"!jiekouFlag"}],staticClass:"contactPerson"},[e._v("常用联系人")])],1)],1)},staticRenderFns:[]}},297:function(e,t,a){function n(e){a(1188)}var o=a(12)(a(1028),a(1387),n,"data-v-2f007d9d",null);e.exports=o.exports},502:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(45),o=a.n(n),r=a(28),i=a.n(r),s=a(20);t.default={name:"treeMenu",props:["model","jsonData","type","callbackTrs"],data:function(){return{theModels:[],open:!1,isFirst:!0,shareFlag:!1,focusFlag:!1,tripNum:0,nameObj:{},personArr:[],buildFlag:""}},computed:i()({isFolder:function(){return void 0!=this.model&&this.model.children}},a.i(s.a)(["getScheduleInfo"])),mounted:function(){var e=this;e.type||(e.focusFlag=!0),"schedule"==e.type&&(e.focusFlag=!0)},methods:i()({},a.i(s.c)(["setScheduleInfo"]),{callbackClick:function(e){this.$emit("callbackTrs",e)},toggle:function(e,t){var a=this;if(a.tripNum++,"buildType"==a.type&&a.setScheduleInfo({buildId:e}),a.isFolder&&(a.open=!a.open),a.model.children)a.shareFlag=!1;else if(a.shareFlag=!0,a.type)if("add"==a.type){var n={};n=a.tripNum%2==1?{id:e,name:t,type:1}:{id:e,name:t,type:0},a.$emit("callbackTrs",n)}else if("addTrip"==a.type||"share"==a.type||"buildType"==a.type){var r={};r=a.tripNum%2==1?{id:e,name:t,type:1}:{id:e,name:t,type:0},a.$emit("callbackTrs",r)}else a.type&&(a.viewFlag=!0,a.$router.push("/mySchedule/"+e+"/1/"+t));else a.focusFlag=!0,a.get(a.conf.schedule+"/mobileInterface/shareCalendar",{ssotoken:"01363963",otherEmpcode:e,shareUrl:a.getScheduleInfo.shareUrl,title:a.getScheduleInfo.title,message:a.getScheduleInfo.message},function(e){new o.a(function(e,t){a.$dialog.toast({mes:"分享成功",timeout:1500}),e()}).then(function(){a.searchFlag=!1,a.name=""})})},addFocus:function(e){this.$emit("callbackTrs",e)},datas:function(e){for(var t=[],a=e.split(";"),n=0;n<a.length;n++){var o=a[n],r=this.jsonData[o];void 0!=r&&t.push(r)}return t}})}},503:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(778),o=a.n(n);t.default={name:"trsTree",components:{myTree:o.a},props:["type","callbackTop"],data:function(){return{isLoading:!0,jsonData:[],nameObj:{},theModel:[]}},mounted:function(){this.pageRender()},methods:{callbackClick:function(e){var t={};t[e.name]=e.type,this.nameObj[e.id]=t,"addTrip"==this.type||"share"==this.type?this.$emit("callbackTop",this.nameObj):this.$emit("callbackTop",e)},pageRender:function(){var e=this;e.get(e.conf.schedule+"/mobileInterface/orgTree",{ssotoken:e.$store.getters.getUserInfo.empcode},function(t){var a=t.jsonData[205].children.split(";").filter(function(e){return""!=e});e.jsonData=t.jsonData;for(var n=0;n<a.length;n++){var o=a[n],r=t.jsonData[o];void 0!=r&&e.theModel.push(r)}})}}}},506:function(e,t,a){var n=a(189);t=e.exports=a(187)(!0),t.push([e.i,"li[data-v-700ab688]{background:#fff;font-size:.26rem;padding-left:.2rem;position:relative}.cot_span[data-v-700ab688]{min-height:.7rem;display:block;line-height:1;padding-right:.7rem;background:#fff}.focus[data-v-700ab688]{color:#ffa21d;font-size:12px;line-height:1rem;position:absolute;top:0;right:.3rem}.tripClass[data-v-700ab688]{width:.4rem;height:.5rem;float:right}.active[data-v-700ab688]{background:url("+n(a(191))+") no-repeat;background-position:0 .25rem;background-size:.26rem}.partName[data-v-700ab688]{display:inline-block;color:#333;margin-top:.22rem}.partDept[data-v-700ab688]{display:block;padding-bottom:.2rem;padding-top:.15rem;line-height:.35rem}.tripClass[data-v-700ab688]{position:absolute;top:.23rem;right:.3rem}ul>li>span[data-v-700ab688]{border-bottom:1px dashed #d0ccc8;line-height:1rem}","",{version:3,sources:["D:/3/中国银联/oamobile-funs/src/components/util/trsTree/treeMenu.vue"],names:[],mappings:"AACA,oBACI,gBAAiB,AACjB,iBAAkB,AAClB,mBAAoB,AACpB,iBAAmB,CACtB,AACD,2BACI,iBAAkB,AAClB,cAAe,AACf,cAAe,AACf,oBAAqB,AACrB,eAAiB,CACpB,AACD,wBACI,cAAe,AACf,eAAgB,AAChB,iBAAkB,AAClB,kBAAmB,AACnB,MAAO,AACP,WAAa,CAChB,AACD,4BACI,YAAc,AACd,aAAe,AACf,WAAa,CAChB,AACD,yBACI,mDAAuE,AACvE,6BAA8B,AAC9B,sBAAwB,CAC3B,AACD,2BACI,qBAAsB,AACtB,WAAY,AACZ,iBAAmB,CACtB,AACD,2BACI,cAAe,AACf,qBAAsB,AACtB,mBAAoB,AACpB,kBAAoB,CACvB,AACD,4BACI,kBAAmB,AACnB,WAAY,AACZ,WAAa,CAChB,AACD,4BACI,iCAAkC,AAClC,gBAAkB,CACrB",file:"treeMenu.vue",sourcesContent:["\nli[data-v-700ab688] {\n    background: #fff;\n    font-size: .26rem;\n    padding-left: .2rem;\n    position: relative;\n}\n.cot_span[data-v-700ab688] {\n    min-height: .7rem;\n    display: block;\n    line-height: 1;\n    padding-right: .7rem;\n    background: #fff;\n}\n.focus[data-v-700ab688] {\n    color: #ffa21d;\n    font-size: 12px;\n    line-height: 1rem;\n    position: absolute;\n    top: 0;\n    right: .3rem;\n}\n.tripClass[data-v-700ab688] {\n    width: 0.4rem;\n    height: 0.5rem;\n    float: right;\n}\n.active[data-v-700ab688] {\n    background: url(../../../../static/images/workCenter/20.png) no-repeat;\n    background-position: 0 .25rem;\n    background-size: .26rem;\n}\n.partName[data-v-700ab688] {\n    display: inline-block;\n    color: #333;\n    margin-top: .22rem;\n}\n.partDept[data-v-700ab688] {\n    display: block;\n    padding-bottom: .2rem;\n    padding-top: .15rem;\n    line-height: .35rem;\n}\n.tripClass[data-v-700ab688] {\n    position: absolute;\n    top: .23rem;\n    right: .3rem;\n}\nul>li>span[data-v-700ab688] {\n    border-bottom: 1px dashed #d0ccc8;\n    line-height: 1rem;\n}\n"],sourceRoot:""}])},507:function(e,t,a){t=e.exports=a(187)(!0),t.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"trsTree.vue",sourceRoot:""}])},772:function(e,t,a){var n=a(506);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(188)("1df569aa",n,!0,{})},773:function(e,t,a){var n=a(507);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(188)("91fc75d4",n,!0,{})},778:function(e,t,a){function n(e){a(772)}var o=a(12)(a(502),a(781),n,"data-v-700ab688",null);e.exports=o.exports},779:function(e,t,a){function n(e){a(773)}var o=a(12)(a(503),a(782),n,"data-v-7af71558",null);e.exports=o.exports},781:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",[a("span",{staticClass:"cot_span",on:{click:function(t){e.toggle(e.model.id,e.model.text)}}},[e.isFolder?a("i",{staticClass:"icon",class:[e.open?"folder-open":"folder"]}):e._e(),e._v(" "),e.isFolder?e._e():a("i",{staticClass:"icon file-text"}),e._v(" "),a("span",{staticClass:"partName"},[e._v(e._s(e.model.text))]),e._v(" "),e.model.children?e._e():a("i",{staticClass:"partDept",domProps:{textContent:e._s(e.jsonData[e.jsonData[e.model.parent].parent].text+"/"+e.jsonData[e.model.parent].text)}}),e._v(" "),!e.model.children&&e.focusFlag?a("i",{staticClass:"focus",on:{click:function(t){t.stopPropagation(),e.addFocus(e.model.id)}}},[e._v("加关注")]):e._e(),e._v(" "),e.model.children||"addTrip"!=e.type&&"add"!=e.type&&"share"!=e.type?e._e():a("i",{staticClass:"tripClass",class:{active:e.tripNum%2==1}}),e._v(" "),e.model.children||"buildType"!=e.type?e._e():a("i",{staticClass:"tripClass",class:{active:e.model.id==e.getScheduleInfo.buildId&&e.tripNum%2==1}})]),e._v(" "),e.isFolder?a("ul",{directives:[{name:"show",rawName:"v-show",value:e.open,expression:"open"}]},e._l(e.datas(e.model.children),function(t,n){return a("tree-menu",{key:n,attrs:{model:t,jsonData:e.jsonData,type:e.type},on:{callbackTrs:e.callbackClick}})})):e._e()])},staticRenderFns:[]}},782:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticClass:"tree-menu"},e._l(e.theModel,function(t){return a("ul",[a("my-tree",{attrs:{model:t,jsonData:e.jsonData,type:e.type},on:{callbackTrs:e.callbackClick}})],1)}))},staticRenderFns:[]}}});
//# sourceMappingURL=29.b80f1772f9f83b4b0617.js.map