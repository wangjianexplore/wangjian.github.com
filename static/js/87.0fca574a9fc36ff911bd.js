webpackJsonp([87],{1132:function(t,e,a){e=t.exports=a(187)(!0),e.push([t.i,".hint_time[data-v-88726d52]{float:right}.yd-timeline-content>li[data-v-88726d52]:nth-child(2){padding-top:.2rem}.agree[data-v-88726d52]{color:#2389df;font-size:.3rem}.disagree[data-v-88726d52]{color:#f24320}.timeline_slider[data-v-88726d52]{margin-bottom:.14rem}.approText[data-v-88726d52]{color:#333;font-size:.32rem}.leftWord[data-v-88726d52]{color:#333}.status[data-v-88726d52]{color:#999;font-size:.32rem}.mainContent[data-v-88726d52]{height:auto;background:#e2e2e2;border-top:.11rem solid #e2e2e2;border-bottom:.11rem solid #e2e2e2}.sixCol[data-v-88726d52]{color:#666;font-size:.3rem}.nightCol[data-v-88726d52]{color:#999;font-size:.3rem}.numDays[data-v-88726d52]{font-size:.32rem;font-weight:700;color:#333;word-break:break-all;padding-right:.33rem}.lastDays[data-v-88726d52]{color:#666;font-size:.32rem}.part[data-v-88726d52]{margin:0 .23rem}.listTitle[data-v-88726d52]{padding-right:.33rem;padding-left:.33rem}.history_one[data-v-88726d52]{padding-left:.33rem}.noHistory[data-v-88726d52]{font-size:.32rem;color:#666;word-break:break-all}.yd_nohis[data-v-88726d52]{border-top:1px dashed #eaeaea;margin-top:.27rem}.footer[data-v-88726d52]{width:100%;height:1rem}.yd-btn-block[data-v-88726d52]{height:1rem;margin-top:0;border-radius:0;font-weight:700}.yd-tabbar[data-v-88726d52]{padding:0}","",{version:3,sources:["D:/3/中国银联/oamobile-funs/src/web/holiday/history.vue"],names:[],mappings:"AACA,4BACI,WAAa,CAChB,AACD,sDACI,iBAAoB,CACvB,AACD,wBACI,cAAe,AACf,eAAkB,CACrB,AACD,2BACI,aAAe,CAClB,AACD,kCACI,oBAAuB,CAC1B,AACD,4BACI,WAAY,AACZ,gBAAmB,CACtB,AACD,2BACI,UAAY,CACf,AACD,yBACI,WAAY,AACZ,gBAAmB,CACtB,AACD,8BACI,YAAa,AACb,mBAAoB,AACpB,gCAAiC,AACjC,kCAAoC,CACvC,AACD,yBACI,WAAY,AACZ,eAAiB,CACpB,AACD,2BACI,WAAY,AACZ,eAAiB,CACpB,AACD,0BACI,iBAAmB,AACnB,gBAAkB,AAClB,WAAe,AACf,qBAAsB,AACtB,oBAAsB,CACzB,AACD,2BACI,WAAY,AACZ,gBAAmB,CACtB,AACD,uBACI,eAAiB,CACpB,AACD,4BACI,qBAAsB,AACtB,mBAAqB,CACxB,AACD,8BACI,mBAAqB,CACxB,AACD,4BACI,iBAAmB,AACnB,WAAY,AACZ,oBAAsB,CACzB,AACD,2BACI,8BAA+B,AAC/B,iBAAmB,CACtB,AACD,yBACI,WAAY,AACZ,WAAa,CAChB,AACD,+BACI,YAAa,AACb,aAAc,AACd,gBAAiB,AACjB,eAAkB,CACrB,AACD,4BACI,SAAW,CACd",file:"history.vue",sourcesContent:["\n.hint_time[data-v-88726d52] {\r\n    float: right;\n}\n.yd-timeline-content>li[data-v-88726d52]:nth-child(2) {\r\n    padding-top: 0.2rem;\n}\n.agree[data-v-88726d52] {\r\n    color: #2389df;\r\n    font-size: 0.3rem;\n}\n.disagree[data-v-88726d52] {\r\n    color: #f24320;\n}\n.timeline_slider[data-v-88726d52] {\r\n    margin-bottom: 0.14rem;\n}\n.approText[data-v-88726d52] {\r\n    color: #333;\r\n    font-size: 0.32rem;\n}\n.leftWord[data-v-88726d52] {\r\n    color: #333;\n}\n.status[data-v-88726d52] {\r\n    color: #999;\r\n    font-size: 0.32rem;\n}\n.mainContent[data-v-88726d52] {\r\n    height: auto;\r\n    background: #e2e2e2;\r\n    border-top: .11rem solid #e2e2e2;\r\n    border-bottom: .11rem solid #e2e2e2;\n}\n.sixCol[data-v-88726d52] {\r\n    color: #666;\r\n    font-size: .3rem;\n}\n.nightCol[data-v-88726d52] {\r\n    color: #999;\r\n    font-size: .3rem;\n}\n.numDays[data-v-88726d52] {\r\n    font-size: 0.32rem;\r\n    font-weight: bold;\r\n    color: #333333;\r\n    word-break: break-all;\r\n    padding-right: .33rem;\n}\n.lastDays[data-v-88726d52] {\r\n    color: #666;\r\n    font-size: 0.32rem;\n}\n.part[data-v-88726d52] {\r\n    margin: 0 .23rem;\n}\n.listTitle[data-v-88726d52] {\r\n    padding-right: .33rem;\r\n    padding-left: .33rem;\n}\n.history_one[data-v-88726d52] {\r\n    padding-left: .33rem;\n}\n.noHistory[data-v-88726d52] {\r\n    font-size: 0.32rem;\r\n    color: #666;\r\n    word-break: break-all;\n}\n.yd_nohis[data-v-88726d52] {\r\n    border-top: 1px dashed #eaeaea;\r\n    margin-top: .27rem;\n}\n.footer[data-v-88726d52] {\r\n    width: 100%;\r\n    height: 1rem;\n}\n.yd-btn-block[data-v-88726d52] {\r\n    height: 1rem;\r\n    margin-top: 0;\r\n    border-radius: 0;\r\n    font-weight: bold;\n}\n.yd-tabbar[data-v-88726d52] {\r\n    padding: 0;\n}\r\n"],sourceRoot:""}])},1246:function(t,e,a){var o=a(1132);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a(188)("7d97797c",o,!0,{})},1444:function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("yd-layout",{staticClass:"groundColor"},[o("div",{staticClass:"mainContent"},[o("div",{staticClass:"contentSradius timeline_slider history"},["undefined"!=t.workId?o("div",{staticClass:"history_one"},[o("yd-flexbox",[o("div",{staticClass:"hint"},[t._v("休假正在审批中...")]),t._v(" "),o("yd-flexbox-item",[o("div",{staticClass:"moreLogo",on:{click:function(e){t.openDetail(t.workId,0)}}},[o("img",{attrs:{src:a(876)}})])])],1),t._v(" "),o("yd-flexbox",[o("div",{staticClass:"leftWord"},[t._v("休假时间：")]),t._v(" "),o("div",{staticClass:"leftWord"},[t._v(t._s(t.formatDate(t.startDate,"yyyy-MM-dd"))+"—"+t._s(t.formatDate(t.endDate,"yyyy-MM-dd")))])]),t._v(" "),""!=t.approvelog?o("yd-flexbox",[o("div",{staticClass:"status"},[t._v("状态：")]),t._v(" "),"领导秘书预审"!=t.approvelog[0].activityDefName?o("div",{staticClass:"approText"},[t._v(t._s(t.approvelog[0].partiname)+"完成审批，")]):t._e(),t._v(" "),o("div",{staticClass:"approText"},[t._v(t._s(t.approvelog[0].neirong))])]):t._e()],1):t._e(),t._v(" "),"undefined"==t.workId?o("div",{staticClass:"history_one"},[o("yd-flexbox",[o("yd-flexbox-item",{staticClass:"hint"},[t._v("\n                        "+t._s(t.yearObj.alyear)+"年剩余休假天数\n                    ")]),t._v(" "),o("div",{staticClass:"numDays"},[t._v(t._s(t.lastDays)+"天")])],1),t._v(" "),o("yd-flexbox",[o("div",{staticClass:"lastDays"},[t._v("已使用年假"),o("span",{staticClass:"agree",domProps:{textContent:t._s(t.hasDays)}}),t._v("天（含过期延用年假）")])])],1):t._e()])]),t._v(" "),o("div",{staticClass:"mainContentFluid"},[o("div",{staticClass:"historyList"},[o("yd-flexbox",{staticClass:"listTitle"},[o("yd-flexbox-item",[o("div",{staticClass:"hint"},[t._v("历史休假记录")])])],1),t._v(" "),0==t.historyList.length?o("yd-flexbox",{staticClass:"listTitle yd_nohis"},[o("yd-flexbox-item",[o("div",{staticClass:"noHistory"},[t._v("暂无历史休假记录")])])],1):t._e(),t._v(" "),t._l(t.historyList,function(e,n){return""!=t.historyList?o("div",{key:e.index,staticClass:"part"},[o("yd-flexbox",{nativeOn:{click:function(a){t.openDetail(e.lastWorkItemID,e.state)}}},[o("div",{staticClass:"sixCol"},[t._v("休假时间：")]),t._v(" "),o("div",{staticClass:"sixCol"},[t._v(t._s(t.getYearDay(e.startDate))+"—"+t._s(t.getDay(e.endDate)))]),t._v(" "),o("yd-flexbox-item",[o("div",{staticClass:"moreLogo"},[o("img",{attrs:{src:a(876)}})])])],1),t._v(" "),o("yd-flexbox",[o("div",{staticClass:"nightCol"},[t._v("状态：")]),t._v(" "),o("div",{staticClass:"agree",class:{disagree:1!=e.state}},[t._v(t._s(t.judgmentState(e.state)))])])],1):t._e()})],2)])])},staticRenderFns:[]}},238:function(t,e,a){function o(t){a(1246)}var n=a(12)(a(970),a(1444),o,"data-v-88726d52",null);t.exports=n.exports},876:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAKCAYAAADLhGwXAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo2MWJkZjVlOS02YjliLTRjMDQtYjIzNi1kNWMyMzk1YWQxOGMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzAzNUM5MUQ5RTc0MTFFN0JBQTJGRUVGQzk3MTRDOEEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzAzNUM5MUM5RTc0MTFFN0JBQTJGRUVGQzk3MTRDOEEiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxZTYxNjAxZC03NzBhLTRlM2MtOTQyYS1lODhlY2UwYTAzMjYiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo5ZWI2MjZjZS1kN2Y4LTExN2EtYmExZi1jMmJhYWM2Mzc0NjEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7ESU/9AAAAsUlEQVR42mJ8/PgxAxT4AnEhEJtC+aeBuA+ItzAgARkZGQZ08OTJE2QuQXOIMIOgOUxQwRYg3gTEjkDMA8Ug9maoHLGAbuaAHO4DxNV4DKmG+p4QoKs5IIcXEWFYIRFq6GoOyOEmRCgcdGqYiExzjAzUAVQzB+TwM0QoPE2EGrqaA3J4PxEKB50aJmgR04pHUStUDSFAV3NgabwGiP2BeD8Qf4ViENsPKkcsoJs5AAEGAMqjQcldimgrAAAAAElFTkSuQmCC"},970:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(28),n=a.n(o),r=a(20);e.default={name:"history",data:function(){return{approveRecord:[],stateList:[],yearObj:[],historyList:[],startDate:"",endDate:"",approvelog:"",applicantid:"",lastDays:"",hasDays:"",workId:this.$route.params.workId,hisFlag:this.$route.params.hisFlag}},mounted:function(){document.setTitle("请休假"),this.annualLeave(),this.basicData(),this.approveLog()},computed:n()({},a.i(r.a)({userInfo:"getUserInfo"})),methods:{annualLeave:function(){var t=this;t.get(t.conf.portalMobile+"/API/AnnLeave/annual/getAnnualLeave",{token:t.userInfo.ssotoken+"L/wp-2q"+t.userInfo.ssotokenCode},function(e){var a=e.jsonData[0];t.yearObj=a,t.lastDays=t.yearObj.lastyearall-t.yearObj.lastyearthen+t.yearObj.yearall-t.yearObj.yearthen,t.hasDays=t.yearObj.lastyearthen+t.yearObj.yearthen,"true"==t.hisFlag&&t.historyData()})},historyData:function(){var t=this;"true"==t.hisFlag?t.get(t.conf.portalMobile+"/API/WorkFlow/oawf/historyRecord",{type:"askforleave",token:t.userInfo.ssotoken+"L/wp-2q"+t.userInfo.ssotokenCode,ext:'{"queryType":"1","queryYear":"'+t.yearObj.alyear+'","queryState":"all"}'},function(e){t.historyList=e.jsonData}):t.get(t.conf.portalMobile+"/API/WorkFlow/oawf/historyRecord",{type:"askforleave",token:t.userInfo.ssotoken+"L/wp-2q"+t.userInfo.ssotokenCode,otherUserName:t.applicantid,ext:'{"queryType":"1","queryYear":"'+t.yearObj.alyear+'","queryState":"all"}'},function(e){t.historyList=e.jsonData})},basicData:function(){var t=this;"undefined"!=t.workId&&t.get(t.conf.portalMobile+"/API/WorkFlow/oawf/queryForm",{type:"askforleave",workItemID:t.workId,token:t.userInfo.ssotoken+"L/wp-2q"+t.userInfo.ssotokenCode},function(e){var a=e.jsonData;t.applicantid=a.applicantid,t.startDate=a.startDate,t.endDate=a.endDate,"false"==t.hisFlag&&t.historyData()})},approveLog:function(){var t=this;"undefined"!=t.workId&&t.post(t.conf.portalMobile+"/API/WorkFlow/oawf/queryApprove",{type:"askforleave",workItemID:t.$route.params.workId,token:t.userInfo.ssotoken+"L/wp-2q"+t.userInfo.ssotokenCode,random:Math.floor(Math.random()*(1e5+1))},function(e){""!=e.jsonData&&(t.approvelog=e.jsonData)})},openDetail:function(t,e){this.$router.push("/myApplication/"+t+"/"+e)},getDay:function(t){return t=t.replace(/-/g,"/"),new Date(t).getMonth()+1+"月"+new Date(t).getDate()+"日"},getYearDay:function(t){return t=t.replace(/-/g,"/"),new Date(t).getFullYear()+"年"+(new Date(t).getMonth()+1)+"月"+new Date(t).getDate()+"日"},judgmentState:function(t){return 0==t?"进行中":"已结束"}}}}});
//# sourceMappingURL=87.0fca574a9fc36ff911bd.js.map