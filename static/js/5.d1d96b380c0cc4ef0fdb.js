webpackJsonp([5],{103:function(t,e,a){function o(t){a(1232)}var r=a(12)(a(975),a(1431),o,"data-v-67da6e30",null);t.exports=r.exports},1118:function(t,e,a){var o=a(189);e=t.exports=a(187)(!0),e.push([t.i,".advice[data-v-67da6e30]{height:.48rem;border-bottom:none;line-height:.48rem}.commonAdvice[data-v-67da6e30]{color:#333!important;padding-left:0!important}.part_three[data-v-67da6e30]{margin-top:0;border-bottom:1px solid #dedede}.part_four[data-v-67da6e30]{margin-top:0;border-bottom:none;padding-left:.2rem}.item[data-v-67da6e30]{display:flex;justify-content:center}.item_two[data-v-67da6e30]{font-size:.26rem;color:#333;line-height:.68rem}.item_one[data-v-67da6e30]{font-size:.24rem;color:#999;line-height:.68rem}.part_one[data-v-67da6e30]{margin-top:0}.historyWord[data-v-67da6e30]{color:#35a4ff!important}.history[data-v-67da6e30]{margin-bottom:0}.daysNum[data-v-67da6e30]{float:right;padding-right:.4rem;font-size:.28rem}.check .nameClick[data-v-67da6e30]{z-index:2;opacity:.5;background-color:#256f7b;top:0;right:0}.check .imgClick[data-v-67da6e30],.check .nameClick[data-v-67da6e30]{width:.81rem;height:.81rem;margin:0 auto;border-radius:1rem;text-align:center;position:absolute}.check .imgClick[data-v-67da6e30]{z-index:99;top:11px;right:-6px;background-image:url("+o(a(190))+");background-repeat:no-repeat;background-size:.6rem}.dateColor[data-v-67da6e30]{line-height:1rem;padding-right:.2rem;color:#999;direction:rtl;font-size:.32rem!important;padding-right:.13rem}.part_five[data-v-67da6e30]{margin-bottom:.11rem;margin-top:0}.daysNum input[data-v-67da6e30]{background-color:#fff;width:2rem}.sort[data-v-67da6e30]{color:#999}.adviceTxt[data-v-67da6e30]{padding:0 .33rem;min-height:2rem}.commonRemark[data-v-67da6e30]{color:#333;font-size:.32rem;padding-top:.2rem}.trsTextarea[data-v-67da6e30]{font-size:.32rem;padding-top:.2rem;padding-bottom:.2rem;color:#999;min-height:2rem}.yd-cell-right[data-v-67da6e30]{padding-right:0}.approval[data-v-67da6e30]{padding-left:.33rem}.footer[data-v-67da6e30]{width:100%;height:1rem}.yd-btn-block[data-v-67da6e30]{height:1rem;margin-top:0;border-radius:0;font-weight:700}.yd-tabbar[data-v-67da6e30]{padding:0}.approveWidth[data-v-67da6e30]{border-bottom:.11rem solid #f1f1f1;padding-right:0;padding-left:0}.name_circle[data-v-67da6e30]{padding:0 .18rem}.name_circle ul li[data-v-67da6e30]{width:16.66%}.bold[data-v-67da6e30]{padding-right:.2rem;font-size:.32rem!important}.title[data-v-67da6e30]{border-bottom:none}.select_leader[data-v-67da6e30]{height:100%}.groundTrip[data-v-67da6e30]{margin-top:0}.cellGrop[data-v-67da6e30]{margin-bottom:.11rem}.textAdress[data-v-67da6e30]{min-height:1rem;padding-bottom:0}.approTime[data-v-67da6e30],.nameSize[data-v-67da6e30],.neirongSzie[data-v-67da6e30],.normalSize[data-v-67da6e30]{font-size:.32rem!important}.confirmTrip[data-v-67da6e30]{font-size:.32rem;float:left;padding-left:.3rem;color:#333}.advice02[data-v-67da6e30]{height:1rem;line-height:1rem}.selectAdvice02[data-v-67da6e30]{float:right;padding-right:.26rem;font-size:.32rem}.selectBtn[data-v-67da6e30]{display:inline-block;width:auto;padding:0 .29rem;height:.5rem;width:1.08rem;line-height:.5rem;text-align:center;color:#333;font-size:.3rem;border-radius:.22rem;border:1px solid #eaeaea}.selectBtn[data-v-67da6e30]:first-child{margin-right:.2rem}.selectActive[data-v-67da6e30]{background-color:#61b8ff;color:#fff;border:none}.mainHistory[data-v-67da6e30]{border-top:1px solid #dedede}.approHistory .yd-flexbox[data-v-67da6e30]{align-items:flex-start}","",{version:3,sources:["D:/3/中国银联/oamobile-funs/src/web/holiday/selected.vue"],names:[],mappings:"AACA,yBACI,cAAe,AACf,mBAAoB,AACpB,kBAAqB,CACxB,AACD,+BACI,qBAAsB,AACtB,wBAA0B,CAC7B,AACD,6BACI,aAAc,AACd,+BAAiC,CACpC,AACD,4BACI,aAAc,AACd,mBAAoB,AACpB,kBAAqB,CACxB,AACD,uBAEI,aAAc,AACd,sBAAwB,CAC3B,AACD,2BACI,iBAAkB,AAClB,WAAY,AACZ,kBAAqB,CACxB,AACD,2BACI,iBAAkB,AAClB,WAAY,AACZ,kBAAqB,CACxB,AACD,2BACI,YAAc,CACjB,AACD,8BACI,uBAAyB,CAC5B,AACD,0BACI,eAAiB,CACpB,AACD,0BACI,YAAa,AACb,oBAAsB,AACtB,gBAAmB,CACtB,AACD,mCAMI,UAAW,AACX,WAAa,AACb,yBAA0B,AAE1B,MAAO,AACP,OAAS,CACZ,AACD,qEAZI,aAAe,AACf,cAAgB,AAChB,cAAe,AACf,mBAAoB,AACpB,kBAAmB,AAInB,iBAAmB,CAiBtB,AAbD,kCAMI,WAAY,AAEZ,SAAU,AACV,WAAY,AACZ,+CAAsD,AACtD,4BAA6B,AAC7B,qBAAwB,CAC3B,AACD,4BACI,iBAAkB,AAClB,oBAAsB,AACtB,WAAY,AACZ,cAAe,AACf,2BAA6B,AAC7B,oBAAsB,CACzB,AACD,4BACI,qBAAuB,AACvB,YAAc,CACjB,AACD,gCACI,sBAAuB,AACvB,UAAY,CACf,AACD,uBACI,UAAY,CACf,AACD,4BACI,iBAAmB,AACnB,eAAiB,CACpB,AACD,+BACI,WAAY,AACZ,iBAAmB,AACnB,iBAAoB,CACvB,AACD,8BACI,iBAAmB,AACnB,kBAAoB,AACpB,qBAAuB,AACvB,WAAY,AACZ,eAAiB,CACpB,AACD,gCACI,eAAiB,CACpB,AACD,2BACI,mBAAsB,CACzB,AACD,yBACI,WAAY,AACZ,WAAa,CAChB,AACD,+BACI,YAAa,AACb,aAAc,AACd,gBAAiB,AACjB,eAAkB,CACrB,AACD,4BACI,SAAW,CACd,AACD,+BACI,mCAAoC,AACpC,gBAAiB,AACjB,cAAgB,CACnB,AACD,8BACI,gBAAiB,CACpB,AACD,oCACI,YAAc,CACjB,AACD,uBACI,oBAAsB,AACtB,0BAA4B,CAC/B,AACD,wBACI,kBAAoB,CACvB,AACD,gCACI,WAAa,CAChB,AACD,6BACI,YAAc,CACjB,AACD,2BACI,oBAAsB,CACzB,AACD,6BACI,gBAAiB,AACjB,gBAAkB,CACrB,AAQD,kHACI,0BAA4B,CAC/B,AACD,8BACI,iBAAmB,AACnB,WAAY,AACZ,mBAAqB,AACrB,UAAY,CACf,AACD,2BACI,YAAa,AACb,gBAAkB,CACrB,AACD,iCACI,YAAa,AACb,qBAAuB,AACvB,gBAAmB,CACtB,AACD,4BACI,qBAAsB,AACtB,WAAY,AACZ,iBAAkB,AAClB,aAAc,AACd,cAAe,AACf,kBAAmB,AACnB,kBAAmB,AACnB,WAAY,AACZ,gBAAiB,AACjB,qBAAsB,AACtB,wBAA0B,CAC7B,AACD,wCACI,kBAAoB,CACvB,AACD,+BACI,yBAA0B,AAC1B,WAAY,AACZ,WAAa,CAChB,AACD,8BACI,4BAA8B,CACjC,AACD,2CACI,sBAAwB,CAC3B",file:"selected.vue",sourcesContent:["\n.advice[data-v-67da6e30] {\r\n    height: .48rem;\r\n    border-bottom: none;\r\n    line-height: 0.48rem;\n}\n.commonAdvice[data-v-67da6e30] {\r\n    color: #333!important;\r\n    padding-left: 0!important;\n}\n.part_three[data-v-67da6e30] {\r\n    margin-top: 0;\r\n    border-bottom: 1px solid #dedede;\n}\n.part_four[data-v-67da6e30] {\r\n    margin-top: 0;\r\n    border-bottom: none;\r\n    padding-left: 0.2rem;\n}\n.item[data-v-67da6e30] {\r\n    /*padding-left: 0.2rem;*/\r\n    display: flex;\r\n    justify-content: center;\n}\n.item_two[data-v-67da6e30] {\r\n    font-size: .26rem;\r\n    color: #333;\r\n    line-height: 0.68rem;\n}\n.item_one[data-v-67da6e30] {\r\n    font-size: .24rem;\r\n    color: #999;\r\n    line-height: 0.68rem;\n}\n.part_one[data-v-67da6e30] {\r\n    margin-top: 0;\n}\n.historyWord[data-v-67da6e30] {\r\n    color: #35a4ff!important;\n}\n.history[data-v-67da6e30] {\r\n    margin-bottom: 0;\n}\n.daysNum[data-v-67da6e30] {\r\n    float: right;\r\n    padding-right: 0.4rem;\r\n    font-size: 0.28rem;\n}\n.check .nameClick[data-v-67da6e30] {\r\n    width: 0.81rem;\r\n    height: 0.81rem;\r\n    margin: 0 auto;\r\n    border-radius: 1rem;\r\n    text-align: center;\r\n    z-index: 2;\r\n    opacity: 0.5;\r\n    background-color: #256f7b;\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\n}\n.check .imgClick[data-v-67da6e30] {\r\n    width: 0.81rem;\r\n    height: 0.81rem;\r\n    margin: 0 auto;\r\n    border-radius: 1rem;\r\n    text-align: center;\r\n    z-index: 99;\r\n    position: absolute;\r\n    top: 11px;\r\n    right: -6px;\r\n    background-image: url(../../../static/images/gou.png);\r\n    background-repeat: no-repeat;\r\n    background-size: 0.6rem;\n}\n.dateColor[data-v-67da6e30] {\r\n    line-height: 1rem;\r\n    padding-right: 0.2rem;\r\n    color: #999;\r\n    direction: rtl;\r\n    font-size: 0.32rem!important;\r\n    padding-right: .13rem;\n}\n.part_five[data-v-67da6e30] {\r\n    margin-bottom: 0.11rem;\r\n    margin-top: 0;\n}\n.daysNum input[data-v-67da6e30] {\r\n    background-color: #fff;\r\n    width: 2rem;\n}\n.sort[data-v-67da6e30] {\r\n    color: #999;\n}\n.adviceTxt[data-v-67da6e30] {\r\n    padding: 0 0.33rem;\r\n    min-height: 2rem;\n}\n.commonRemark[data-v-67da6e30] {\r\n    color: #333;\r\n    font-size: 0.32rem;\r\n    padding-top: 0.2rem;\n}\n.trsTextarea[data-v-67da6e30] {\r\n    font-size: 0.32rem;\r\n    padding-top: 0.2rem;\r\n    padding-bottom: 0.2rem;\r\n    color: #999;\r\n    min-height: 2rem;\n}\n.yd-cell-right[data-v-67da6e30] {\r\n    padding-right: 0;\n}\n.approval[data-v-67da6e30] {\r\n    padding-left: 0.33rem;\n}\n.footer[data-v-67da6e30] {\r\n    width: 100%;\r\n    height: 1rem;\n}\n.yd-btn-block[data-v-67da6e30] {\r\n    height: 1rem;\r\n    margin-top: 0;\r\n    border-radius: 0;\r\n    font-weight: bold;\n}\n.yd-tabbar[data-v-67da6e30] {\r\n    padding: 0;\n}\n.approveWidth[data-v-67da6e30] {\r\n    border-bottom: .11rem solid #f1f1f1;\r\n    padding-right: 0;\r\n    padding-left: 0;\n}\n.name_circle[data-v-67da6e30] {\r\n    padding: 0 .18rem\n}\n.name_circle ul li[data-v-67da6e30] {\r\n    width: 16.66%;\n}\n.bold[data-v-67da6e30] {\r\n    padding-right: 0.2rem;\r\n    font-size: .32rem!important;\n}\n.title[data-v-67da6e30] {\r\n    border-bottom: none;\n}\n.select_leader[data-v-67da6e30] {\r\n    height: 100%;\n}\n.groundTrip[data-v-67da6e30] {\r\n    margin-top: 0;\n}\n.cellGrop[data-v-67da6e30] {\r\n    margin-bottom: .11rem;\n}\n.textAdress[data-v-67da6e30] {\r\n    min-height: 1rem;\r\n    padding-bottom: 0;\n}\n.normalSize[data-v-67da6e30] {\r\n    font-size: .32rem!important;\n}\n.nameSize[data-v-67da6e30],\r\n.neirongSzie[data-v-67da6e30] {\r\n    font-size: .32rem!important;\n}\n.approTime[data-v-67da6e30] {\r\n    font-size: .32rem!important;\n}\n.confirmTrip[data-v-67da6e30] {\r\n    font-size: 0.32rem;\r\n    float: left;\r\n    padding-left: 0.3rem;\r\n    color: #333;\n}\n.advice02[data-v-67da6e30] {\r\n    height: 1rem;\r\n    line-height: 1rem;\n}\n.selectAdvice02[data-v-67da6e30] {\r\n    float: right;\r\n    padding-right: 0.26rem;\r\n    font-size: 0.32rem;\n}\n.selectBtn[data-v-67da6e30] {\r\n    display: inline-block;\r\n    width: auto;\r\n    padding: 0 .29rem;\r\n    height: .5rem;\r\n    width: 1.08rem;\r\n    line-height: .5rem;\r\n    text-align: center;\r\n    color: #333;\r\n    font-size: .3rem;\r\n    border-radius: .22rem;\r\n    border: 1px solid #eaeaea;\n}\n.selectBtn[data-v-67da6e30]:first-child {\r\n    margin-right: .2rem;\n}\n.selectActive[data-v-67da6e30] {\r\n    background-color: #61b8ff;\r\n    color: #fff;\r\n    border: none;\n}\n.mainHistory[data-v-67da6e30] {\r\n    border-top: 1px solid #dedede;\n}\n.approHistory .yd-flexbox[data-v-67da6e30] {\r\n    align-items: flex-start;\n}\r\n"],sourceRoot:""}])},1232:function(t,e,a){var o=a(1118);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a(188)("442401a8",o,!0,{})},1431:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("yd-layout",[a("div",{directives:[{name:"show",rawName:"v-show",value:t.formFlag,expression:"formFlag"}]},[t._l(t.yearObj,function(e){return a("div",{key:e.alyear,staticClass:"headerTime item"},[a("yd-flexbox",[a("div",{staticClass:"item_one"},[t._v(t._s(e.alyear)+"总计剩余年假:")]),t._v(" "),a("div",{staticClass:"item_two",domProps:{textContent:t._s(e.lastyearall-e.lastyearthen+e.yearall-e.yearthen)}}),t._v(" "),a("div",{staticClass:"item_one"},[t._v("天,其中沿用年假")]),t._v(" "),a("div",{staticClass:"item_two",domProps:{textContent:t._s(e.lastyearall-e.lastyearthen)}}),t._v(" "),a("div",{staticClass:"item_one"},[t._v("天,核定年假")]),t._v(" "),a("div",{staticClass:"item_two",domProps:{textContent:t._s(e.yearall-e.yearthen)}}),t._v(" "),a("div",{staticClass:"item_one"},[t._v("天")])])],1)}),t._v(" "),a("div",{staticClass:"mainContentFluid part_one"},[a("div",{staticClass:"fluidWidth"},[a("div",{staticClass:"advice"},[a("div",{staticClass:"commonAdvice"},[t._v("\n                        请假类型\n                    ")]),t._v(" "),a("div",{staticClass:"selectAdvice sort"},[a("yd-navbar-next-icon",[t._v(t._s(t.confirmItem))])],1)])])]),t._v(" "),a("div",{staticClass:"mainContentFluid part_two leave_two"},[a("yd-cell-group",[a("yd-cell-item",{attrs:{arrow:""}},[a("span",{staticClass:"normalSize",attrs:{slot:"left"},slot:"left"},[t._v("开始时间")]),t._v(" "),a("yd-datetime",{class:"dateColor",attrs:{slot:"right",type:"date"},slot:"right",model:{value:t.startdate,callback:function(e){t.startdate=e},expression:"startdate"}})],1),t._v(" "),a("yd-cell-item",{attrs:{arrow:""}},[a("span",{staticClass:"normalSize",attrs:{slot:"left"},slot:"left"},[t._v("结束时间")]),t._v(" "),a("yd-datetime",{class:"dateColor",attrs:{slot:"right",type:"date"},slot:"right",model:{value:t.enddate,callback:function(e){t.enddate=e},expression:"enddate"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"mainContentFluid groundTrip"},[a("yd-cell-group",{staticClass:"cellGrop"},[a("yd-cell-item",[a("span",{class:"bold",attrs:{slot:"left"},slot:"left"},[t._v("时长(天)")]),t._v(" "),a("yd-input",{staticClass:"dateInput",attrs:{slot:"right"},slot:"right",model:{value:t.inputNum,callback:function(e){t.inputNum=e},expression:"inputNum"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"mainContentFluid part_five"},[a("div",{staticClass:"fluidWidth"},[a("div",{staticClass:"advice"},[a("div",{staticClass:"commonAdvice"},[t._v("\n                        工作代理人\n                    ")]),t._v(" "),a("div",{staticClass:"selectAdvice sort",on:{click:function(e){t.statusPopup=!0,t.popupArr=t.agentList}}},[""==t.confirmItem2?a("yd-navbar-next-icon",[t._v("请选择")]):t._e(),t._v(" "),""!=t.confirmItem2?a("yd-navbar-next-icon",[t._v(t._s(t.confirmItem2))]):t._e()],1)])])]),t._v(" "),2==t.userInfo.role||"总经理室"==t.userInfo.orgname?a("div",{staticClass:"mainContentFluid partOne"},[a("div",{staticClass:"confirTop"},[a("div",{staticClass:"advice02"},[a("div",{staticClass:"confirmTrip"},[t._v("\n                        出国（境）\n                    ")]),t._v(" "),a("div",{staticClass:"selectAdvice02"},[a("span",{staticClass:"selectBtn rSpace",class:{selectActive:1==t.isOut},attrs:{id:"js_yesBtn"},on:{click:function(e){t.isOut=1}}},[t._v("是")]),t._v(" "),a("span",{staticClass:"selectBtn",class:{selectActive:0==t.isOut},attrs:{id:"js_noBtn"},on:{click:function(e){t.isOut=0}}},[t._v("否")])])])])]):t._e(),t._v(" "),2!=t.userInfo.role&&"总经理室"!=t.userInfo.orgname||1!=t.isOut?t._e():a("div",{staticClass:"mainContentFluid part_two leave_two"},[a("yd-cell-group",[a("yd-cell-item",{attrs:{arrow:""}},[a("span",{staticClass:"normalSize",attrs:{slot:"left"},slot:"left"},[t._v("离境时间")]),t._v(" "),a("yd-datetime",{class:"dateColor",attrs:{slot:"right","start-date":t.current,type:"date"},slot:"right",model:{value:t.outDate,callback:function(e){t.outDate=e},expression:"outDate"}})],1),t._v(" "),a("yd-cell-item",{attrs:{arrow:""}},[a("span",{staticClass:"normalSize",attrs:{slot:"left"},slot:"left"},[t._v("入境时间")]),t._v(" "),a("yd-datetime",{class:"dateColor",attrs:{slot:"right","start-date":t.current,type:"date"},slot:"right",model:{value:t.enterDate,callback:function(e){t.enterDate=e},expression:"enterDate"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"mainContentFluid part_one",class:{mainHistory:0==t.isOut}},[a("div",{staticClass:"fluidWidth"},[a("div",{staticClass:"advice history"},[a("div",{staticClass:"commonAdvice historyWord"},[t._v("\n                        历史休假记录\n                    ")]),t._v(" "),a("div",{staticClass:"selectAdvice sort"},[a("yd-navbar-next-icon",{nativeOn:{click:function(e){t.toHistory()}}},[t._v("查看")])],1)])])]),t._v(" "),1==t.userInfo.role||2==t.userInfo.role||"总经理室"==t.userInfo.orgname?a("div",{staticClass:"mainContentFluid"},[a("yd-cell-group",{staticClass:"cellGrop"},[a("yd-cell-item",[a("span",{class:"bold",attrs:{slot:"left"},slot:"left"},[t._v("休假地点")]),t._v(" "),1==t.userInfo.role&&"总经理室"!=t.userInfo.orgname?a("yd-input",{staticClass:"dateInput",attrs:{slot:"right"},slot:"right",model:{value:t.address,callback:function(e){t.address=e},expression:"address"}}):t._e(),t._v(" "),"总经理室"==t.userInfo.orgname||2==t.userInfo.role?a("yd-input",{staticClass:"dateInput",attrs:{slot:"right",placeholder:"请精确到国家和具体的城市"},slot:"right",model:{value:t.address,callback:function(e){t.address=e},expression:"address"}}):t._e()],1)],1)],1):t._e(),t._v(" "),a("div",{staticClass:"mainContentFluid"},[a("div",{staticClass:"adviceTxt"},[a("div",{staticClass:"commonRemark"},[t._v("请假事由")]),t._v(" "),a("trsTextarea",{attrs:{placeholder:"请填写您的请假事由"},model:{value:t.remark,callback:function(e){t.remark=e},expression:"remark"}})],1)]),t._v(" "),0!=t.approvelog.length?a("div",{staticClass:"mainContentFluid"},[a("div",{staticClass:"historyWidth"},[a("div",{staticClass:"approHistory"},[a("div",{staticClass:"title"},[t._v("\n                        审批记录\n                    ")]),t._v(" "),t._l(t.approvelog,function(e,o){return a("div",{key:e.partiname},[a("yd-flexbox",["领导秘书预审"!=e.activityDefName?a("div",{staticClass:"approName nameSize"},[t._v(t._s(e.partiname)+"：")]):t._e(),t._v(" "),a("yd-flexbox-item",{staticClass:"neirongSzie",domProps:{innerHTML:t._s(t.transferString(e.neirong))}})],1),t._v(" "),a("yd-flexbox",[a("div",{staticClass:"approTime"},[t._v(t._s(t.formatDate(e.submitDate,"yyyy-MM-dd")))]),t._v(" "),a("div",{staticClass:"approTime"},[t._v(t._s(t.formatDate(e.submitDate,"hh:mm")))])])],1)})],2)])]):t._e(),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:void 0==t.workId&&2!=t.userInfo.role,expression:"workId==undefined && userInfo.role != 2"}],staticClass:"mainContentFluid"},[a("div",{staticClass:"fluidWidth approveWidth"},[a("div",{staticClass:"approval"},[t._v("\n                    审批人\n                ")]),t._v(" "),a("div",{staticClass:"name_circle"},[a("ul",t._l(t.approver,function(e,o){return a("li",[a("div",{staticClass:"lastname",class:{check:t.checkNum==o},on:{click:function(e){t.checkNum==o?t.checkNum=99:t.checkNum=o}}},[t._v("\n                                "+t._s(e.empname.substring(0,1))+"\n                                "),a("div",{staticClass:"nameClick"}),t._v(" "),a("div",{staticClass:"imgClick"})]),t._v(" "),a("div",{staticClass:"name",domProps:{textContent:t._s(e.empname)}})])})),t._v(" "),a("div",{staticClass:"clear"})])])])],2),t._v(" "),a("yd-tabbar",{directives:[{name:"show",rawName:"v-show",value:t.formFlag&&2!=t.userInfo.role&&0==t.status&&0==t.statusPopup&&void 0==t.workId,expression:"formFlag && userInfo.role!=2 && status==0 && statusPopup==false && workId==undefined"}],attrs:{slot:"tabbar"},slot:"tabbar"},[a("div",{staticClass:"footer"},[a("yd-button",{attrs:{size:"large",type:"primary",bgcolor:"#00B6FC",color:"#fefefe"},nativeOn:{click:function(e){"总经理室"==t.userInfo.orgname?t.sendOutManager():t.sendOut()}}},[t._v("送领导审批")])],1)]),t._v(" "),a("yd-tabbar",{directives:[{name:"show",rawName:"v-show",value:t.formFlag&&2==t.userInfo.role&&0==t.status&&0==t.statusPopup,expression:"formFlag && userInfo.role==2 && status==0  && statusPopup==false"}],attrs:{slot:"tabbar"},slot:"tabbar"},[a("div",{staticClass:"footer"},[a("yd-button",{attrs:{size:"large",type:"primary",bgcolor:"#00B6FC",color:"#fefefe"},nativeOn:{click:function(e){t.sendAccepted()}}},[t._v("提交")])],1)]),t._v(" "),a("yd-tabbar",{directives:[{name:"show",rawName:"v-show",value:t.formFlag&&2!=t.userInfo.role&&0==t.statusPopup&&0==t.status&&void 0!=t.workId,expression:"formFlag && userInfo.role!=2 && statusPopup==false && status==0 && workId!=undefined"}],attrs:{slot:"tabbar"},slot:"tabbar"},[a("div",{staticClass:"assistBottom"},[a("div",{staticClass:"agentLeader"},[a("yd-flexbox",[a("div",{staticClass:"examineLogo_txt01",on:{click:function(e){t.toSelectLeader()}}},[t._v("送领导审批")])])],1),t._v(" "),a("div",{staticClass:"agentLeader"},[a("yd-flexbox",[a("div",{staticClass:"examineLogo_txt02",on:{click:function(e){""!=t.isCansend?t.$dialog.toast({mes:t.isCansend,timeout:2e3}):t.cancelHoliday()}}},[t._v("提交")])])],1)])]),t._v(" "),a("yd-popup",{directives:[{name:"show",rawName:"v-show",value:t.statusPopup,expression:"statusPopup"}],attrs:{position:"bottom",height:"4rem"},model:{value:t.statusPopup,callback:function(e){t.statusPopup=e},expression:"statusPopup"}},[a("div",{staticClass:"confirmBtn",attrs:{slot:"top"},slot:"top"},[a("div",{staticClass:"leftBtn",on:{click:function(e){t.statusPopup=!1}}},[t._v("取消")]),t._v(" "),a("div",{staticClass:"rightBtn",on:{click:function(e){t.statusPopup=!1,t.confirmItem2=t.agentItem}}},[t._v("确定")])]),t._v(" "),a("div",{staticClass:"selectStatus"},[a("ul",{staticClass:"ul"},t._l(t.popupArr,function(e,o){return a("li",{staticClass:"li",class:{active:t.statusRadio==o},domProps:{textContent:t._s(e)},on:{click:function(a){t.statusRadio==o?t.statusRadio=99:t.statusRadio=o,99!=t.statusRadio?t.agentItem=e:t.agentItem=""}}})}))])])],1)},staticRenderFns:[]}},975:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(28),r=a.n(o),n=a(20);e.default={name:"selected",data:function(){return{statusRadio:99,statusPopup:!1,popupArr:[],confirmItem:"年休假",confirmItem2:"",remark:"",address:"",checkNum:99,approver:[],leaderIDs:"",startdate:"",enddate:"",approveType:"",agentList:[],agentObj:[],daysNum:"",yearObj:[],inputNum:"",agentId:"",formInfo:{},agentItem:"",activityNum:"",myId:"",formFlag:!0,approvelog:[],nextActivity:"",nextLeaderIDs:"",queryTypeArr:[23,24,25],appLyName:"",status:this.$route.params.status,workId:this.$route.params.workId,outDate:"",enterDate:"",isOut:1,current:"",isCansend:"",errorTime:0}},mounted:function(){document.setTitle("请休假");var t=this;t.current=t.formatDate(new Date,"yyyy-MM-dd hh:mm"),t.getNowFormatDate(),t.pageRender(),2==t.userInfo.role?t.getAcceptor():t.getApprover(),t.getVuex(),t.errorTime=0,t.$dialog.loading.open("加载中...")},computed:r()({},a.i(n.a)({userInfo:"getUserInfo",holidayInfo:"getHolidayInfo"})),watch:{startdate:function(){var t=this,e=Date.parse(t.startdate),a=Date.parse(t.enddate),o=a-e;t.daysNum=o/1e3/60/60/24,t.setHolidayInfo({startDate:t.startdate})},enddate:function(){var t=this,e=Date.parse(t.startdate),a=Date.parse(t.enddate),o=a-e;t.daysNum=o/1e3/60/60/24,t.setHolidayInfo({endDate:t.enddate})},inputNum:function(){var t=this;isNaN(t.inputNum)&&t.$dialog.toast({mes:"时长请输入数字",timeout:2e3}),t.setHolidayInfo({days:t.inputNum})},address:function(){var t=this;t.setHolidayInfo({address:t.address})},remark:function(){var t=this;t.setHolidayInfo({remark:t.remark})},checkNum:function(){var t=this;t.setHolidayInfo({checkNum:t.checkNum})},approver:function(){var t=this;t.setHolidayInfo({approver:t.approver})},agentObj:function(){var t=this;t.setHolidayInfo({agentObj:t.agentObj})},statusRadio:function(){var t=this;t.setHolidayInfo({statusRadio:t.statusRadio})},confirmItem2:function(){var t=this;t.setHolidayInfo({agentname:t.confirmItem2})},approveType:function(){var t=this;t.setHolidayInfo({approveType:t.approveType})},appLyName:function(){var t=this;t.setHolidayInfo({appLyName:t.appLyName})}},methods:r()({},a.i(n.c)(["setHolidayInfo"]),{getVuex:function(){var t=this;t.inputNum=t.holidayInfo.days,t.address=t.holidayInfo.address,t.remark=t.holidayInfo.remark,t.checkNum=t.holidayInfo.checkNum,99!=t.checkNum&&(t.leaderIDs=t.holidayInfo.approver[t.checkNum].operatorid),t.statusRadio=t.holidayInfo.statusRadio,99!=t.statusRadio&&(t.confirmItem2=t.holidayInfo.agentObj[t.statusRadio].empname,t.agentId=t.holidayInfo.agentObj[t.statusRadio].operatorid)},getNowFormatDate:function(){var t=this;if(""==t.holidayInfo.endDate){var e=new Date,a=e.getMonth()+1,o=e.getDate();a>=1&&a<=9&&(a="0"+a),o>=0&&o<=9&&(o="0"+o);var r=e.getFullYear()+"-"+a+"-"+o;t.startdate=r,t.enddate=r,t.outDate=r,t.enterDate=r,t.currentYear=t.formatDate(r,"yyyy")}else t.startdate=t.holidayInfo.startDate,t.enddate=t.holidayInfo.endDate,t.currentYear=t.formatDate(t.startdate,"yyyy")},pageRender:function(){function t(){return a.$http.get(a.conf.portalMobile+"/API/AnnLeave/annual/getAnnualLeave",{params:{token:a.userInfo.ssotoken+"L/wp-2q"+a.userInfo.ssotokenCode,random:Math.floor(Math.random()*(1e5+1))}})}function e(){return a.$http.get(a.conf.portalMobile+"/API/WorkFlow/oawf/handlerPerson",{params:{type:"askforleave",token:a.userInfo.ssotoken+"L/wp-2q"+a.userInfo.ssotokenCode,queryType:13,random:Math.floor(Math.random()*(1e5+1))}})}var a=this;void 0==a.workId?a.$http.all([t(),e()]).then(a.$http.spread(function(t,e,o){"true"==e.data.isSuccess&&a.$dialog.loading.close(),a.yearObj=t.data.jsonData,a.agentObj=e.data.jsonData;for(var r=0;r<e.data.jsonData.length;r++){var n=e.data.jsonData[r].empname;a.agentList.push(n)}for(var i=o.data.jsonData,s=0;s<i.length;s++){var d=i[s];a.approver.push(d)}}),function(t){200!=t.response.status&&(a.errorTime++,a.errorTime<3?a.pageRender():a.$dialog.loading.close())}):void 0!=a.workId&&a.$http.all([t(),e(),function(){return a.$http.get(a.conf.portalMobile+"/API/WorkFlow/oawf/queryForm",{params:{type:"askforleave",workItemID:a.workId,token:a.userInfo.ssotoken+"L/wp-2q"+a.userInfo.ssotokenCode,random:Math.floor(Math.random()*(1e5+1))}})}(),function(){return a.$http.get(a.conf.portalMobile+"/API/WorkFlow/oawf/queryApprove",{params:{type:"askforleave",workItemID:a.workId,token:a.userInfo.ssotoken+"L/wp-2q"+a.userInfo.ssotokenCode,random:Math.floor(Math.random()*(1e5+1))}})}()]).then(a.$http.spread(function(t,e,o,r){if("false"==o.data.isSuccess?(a.errorTime++,a.errorTime<3?a.pageRender():(a.$dialog.loading.close(),a.$dialog.toast({mes:"表单未加载成功",timeout:2e3,callback:function(){a.$router.push("/handle")}}))):a.$dialog.loading.close(),10!=o.data.jsonData.CURRENTSTATE&&4!=o.data.jsonData.CURRENTSTATE&&0==a.$route.params.status&&"true"==o.data.isSuccess&&(a.$dialog.toast({mes:"该流程已被处理",timeout:2e3,callback:function(){setTimeout(function(){0==a.$route.params.status&&a.$router.push("/handle")})}}),0==a.$route.params.status))return!1;a.yearObj=t.data.jsonData,a.agentObj=e.data.jsonData;for(var n=0;n<e.data.jsonData.length;n++){var i=e.data.jsonData[n].empname;a.agentList.push(i)}console.log(o.data.jsonData),a.formInfo=o.data.jsonData,a.startdate=a.formInfo.startDate,a.enddate=a.formInfo.endDate,a.inputNum=a.formInfo.days,a.confirmItem2=a.formInfo.agentname,a.remark=a.formInfo.remark,a.address=a.formInfo.address,a.myId=a.formInfo.applyId,a.appLyName=a.formInfo.appLyName,a.isOut=a.formInfo.isOut,a.outDate=a.formInfo.outDate,a.enterDate=a.formInfo.enterDate,a.isCansend=a.formInfo.isCansend;for(var s in a.formInfo.nextBtn)if(-1!=s.indexOf("doApprove"))for(var d in a.formInfo.nextBtn.doApprove)-1!=d.indexOf("type")&&(a.approveType=a.formInfo.nextBtn.doApprove[d]);else-1!=s.indexOf("Activity")&&(a.nextLeaderIDs=a.formInfo.nextBtn[s][0],a.nextActivity=s);a.approvelog=r.data.jsonData}),function(t){200!=t.response.status&&(a.errorTime++,a.errorTime<3?a.pageRender():(a.$dialog.loading.close(),a.$dialog.toast({mes:"表单未加载成功",timeout:2e3,callback:function(){a.$router.push("/handle")}})))})},getApprover:function(){for(var t=this,e=0;e<t.queryTypeArr.length;e++){var a=t.queryTypeArr[e];t.get(t.conf.portalMobile+"/API/WorkFlow/oawf/handlerPerson",{type:"askforleave",token:t.userInfo.ssotoken+"L/wp-2q"+t.userInfo.ssotokenCode,queryType:a},function(e){for(var a=e.jsonData,o=0;o<a.length;o++){var r=a[o];t.approver.push(r)}},function(t){},!1)}},getAcceptor:function(){var t=this;t.post(t.conf.portalMobile+"/API/WorkFlow/oawf/queryOAHandlerPerson",{type:"askforleave",workItemID:0,activityID:"acceptActivity",token:t.userInfo.ssotoken+"L/wp-2q"+t.userInfo.ssotokenCode,queryType:21},function(e){var a=e.jsonData;t.approver=a,t.checkNum=0;for(var o=[],r=0;r<a.length;r++)o.push(a[r].operatorid);t.leaderIDs=o.join(","),console.log(t.leaderIDs)},function(t){},!1)},sendOut:function(){var t=this,e=(t.inputNum/.5).toString().indexOf(".");isNaN(t.inputNum)?t.$dialog.toast({mes:"时长请输入数字",timeout:2e3}):""==t.inputNum||t.inputNum<.5||e>0?t.$dialog.toast({mes:"请输入请假时长且时长为0.5的倍数",timeout:2e3}):Math.round(t.inputNum)>t.daysNum+1?t.$dialog.toast({mes:"输入时长大于实际时长",timeout:2e3}):""==t.remark?t.$dialog.toast({mes:"请输入您的请假事由",timeout:2e3}):99==t.checkNum?t.$dialog.toast({mes:"请选择审批人",timeout:1e3}):(99!=t.checkNum&&(t.leaderIDs=t.approver[t.checkNum].operatorid),99!=t.statusRadio&&(t.agentId=t.agentObj[t.statusRadio].operatorid),t.get(t.conf.portalMobile+"/API/WorkFlow/oawf/doApprove",{type:"askforleave",workItemID:"0",token:t.userInfo.ssotoken+"L/wp-2q"+t.userInfo.ssotokenCode,activityID:"applyActivity",leaderIDs:t.leaderIDs,fuyan:"",opinion:"",workTitle:t.userInfo.deptname+t.userInfo.empname+"请假申请",ext:'{"startDate":"'+t.startdate+'","endDate":"'+t.enddate+'","days":"'+t.inputNum+'","remark":"'+t.remark+'","address":"'+t.address+'",agentId:"'+t.agentId+'",agentname:"'+t.confirmItem2+'"}'},function(e){t.$dialog.toast({mes:"提交申请成功",timeout:2e3,callback:function(){t.$router.push("/history/true/undefined")}})}))},sendOutManager:function(){console.log(1);var t=this,e=(t.inputNum/.5).toString().indexOf("."),a=new Date(t.outDate),o=new Date(t.enterDate),r=new Date(t.startdate);isNaN(t.inputNum)?t.$dialog.toast({mes:"时长请输入数字",timeout:2e3}):""==t.inputNum||t.inputNum<.5||e>0?t.$dialog.toast({mes:"请输入请假时长且时长为0.5的倍数",timeout:2e3}):Math.round(t.inputNum)>t.daysNum+1?t.$dialog.toast({mes:"输入时长大于实际时长",timeout:2e3}):""==t.remark?t.$dialog.toast({mes:"请输入您的请假事由",timeout:2e3}):""==t.address?t.$dialog.toast({mes:"请输入您的请假地点",timeout:2e3}):99==t.checkNum?t.$dialog.toast({mes:"请选择审批人",timeout:1e3}):a.getTime()>o.getTime()&&1==t.isOut?t.$dialog.toast({mes:"入境时间需大于离境时间",timeout:2e3}):a.getTime()<r.getTime()&&1==t.isOut?t.$dialog.toast({mes:"离境时间需大于休假开始时间",timeout:2e3}):(99!=t.checkNum&&(t.leaderIDs=t.approver[t.checkNum].operatorid),99!=t.statusRadio&&(t.agentId=t.agentObj[t.statusRadio].operatorid),0==t.isOut&&(t.outDate="",t.enterDate=""),t.get(t.conf.portalMobile+"/API/WorkFlow/oawf/doApprove",{type:"askforleave",workItemID:"0",token:t.userInfo.ssotoken+"L/wp-2q"+t.userInfo.ssotokenCode,activityID:"applyActivity",leaderIDs:t.leaderIDs,fuyan:"",opinion:"",workTitle:t.userInfo.deptname+t.userInfo.empname+"请假申请",ext:'{"startDate":"'+t.startdate+'","endDate":"'+t.enddate+'","days":"'+t.inputNum+'","remark":"'+t.remark+'","address":"'+t.address+'",agentId:"'+t.agentId+'",agentname:"'+t.confirmItem2+'",isOut:"'+t.isOut+'",outDate:"'+t.outDate+'",enterDate:"'+t.enterDate+'"}'},function(e){t.$dialog.toast({mes:"提交申请成功",timeout:2e3,callback:function(){t.$router.push("/history/true/undefined")}})}))},sendAccepted:function(){var t=this,e=(t.inputNum/.5).toString().indexOf("."),a=new Date(t.outDate),o=new Date(t.enterDate),r=new Date(t.startdate);isNaN(t.inputNum)?t.$dialog.toast({mes:"时长请输入数字",timeout:2e3}):""==t.inputNum||t.inputNum<.5||e>0?t.$dialog.toast({mes:"请输入请假时长且时长为0.5的倍数",timeout:2e3}):Math.round(t.inputNum)>t.daysNum+1?t.$dialog.toast({mes:"输入时长大于实际时长",timeout:2e3}):""==t.address?t.$dialog.toast({mes:"请输入您的请假地点",timeout:2e3}):""==t.remark?t.$dialog.toast({mes:"请输入您的请假事由",timeout:2e3}):a.getTime()>o.getTime()&&1==t.isOut?t.$dialog.toast({mes:"入境时间需大于离境时间",timeout:2e3}):a.getTime()<r.getTime()&&1==t.isOut?t.$dialog.toast({mes:"离境时间需大于休假开始时间",timeout:2e3}):(0==t.isOut&&(t.outDate="",t.enterDate=""),99!=t.statusRadio&&(t.agentId=t.agentObj[t.statusRadio].operatorid),t.get(t.conf.portalMobile+"/API/WorkFlow/oawf/doOANext",{type:"askforleave",workItemID:"0",token:t.userInfo.ssotoken+"L/wp-2q"+t.userInfo.ssotokenCode,activityID:"acceptActivity",leaderIDs:t.leaderIDs,fuyan:"",opinion:"",workTitle:t.userInfo.deptname+t.userInfo.empname+"请假申请",ext:'{"startDate":"'+t.startdate+'","endDate":"'+t.enddate+'","days":"'+t.inputNum+'","remark":"'+t.remark+'","address":"'+t.address+'","agentId":"'+t.agentId+'",agentname:"'+t.confirmItem2+'",isOut:"'+t.isOut+'",outDate:"'+t.outDate+'",enterDate:"'+t.enterDate+'"}'},function(e){t.$dialog.toast({mes:"提交申请成功",timeout:2e3,callback:function(){t.$router.push("/history/true/undefined")}})}))},cancelHoliday:function(){var t=this;"logoutActivity"==t.nextActivity?t.post(t.conf.portalMobile+"/API/WorkFlow/oawf/doOANext",{type:"askforleave",workItemID:t.workId,token:t.userInfo.ssotoken+"L/wp-2q"+t.userInfo.ssotokenCode,activityID:"logoutActivity",leaderIDs:t.myId,fuyan:"",opinion:"",workTitle:t.formInfo.firstorgname+t.formInfo.appLyName+"请假申请",ext:""},function(e){t.$dialog.toast({mes:"提交申请成功<br>您的请假单已正式提交",timeout:2e3,callback:function(){t.$router.push("/handle/")}})}):t.get(t.conf.portalMobile+"/API/WorkFlow/oawf/doOANext",{type:"askforleave",workItemID:t.workId,token:t.userInfo.ssotoken+"L/wp-2q"+t.userInfo.ssotokenCode,activityID:t.nextActivity,leaderIDs:t.nextLeaderIDs,fuyan:"",opinion:"",workTitle:t.formInfo.firstorgname+t.formInfo.appLyName+"请假申请",ext:'{"startDate":"'+t.startdate+'","endDate":"'+t.enddate+'","days":"'+t.inputNum+'","remark":"'+t.transferString(t.remark)+'","address":"'+t.address+'",agentId:"'+t.agentId+'",agentname:"'+t.confirmItem2+'"}'},function(e){t.$dialog.toast({mes:"提交申请成功",timeout:2e3,callback:function(){t.$router.push("/handle/")}})})},toSelectLeader:function(){var t=this;t.$router.push("/selectLeader/true/"+t.$route.params.workId)},toHistory:function(){var t=this;"undefined"==t.workId?t.$router.push("/history/true/undefined"):t.$router.push("/history/true/"+t.workId)}})}}});
//# sourceMappingURL=5.d1d96b380c0cc4ef0fdb.js.map